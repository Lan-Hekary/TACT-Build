(function(e){var t={};function n(r){if(t[r]){return t[r].exports}var i=t[r]={i:r,l:false,exports:{}};e[r].call(i.exports,i,i.exports,n);i.l=true;return i.exports}n.m=e;n.c=t;n.d=function(e,t,r){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=30)})([function(e,t){e.exports=require("util")},function(e,t,n){(function(r){var i=n(3),o=n(6),s=n(33),a=o.join,u=o.dirname,c=i.accessSync&&function(e){try{i.accessSync(e)}catch(e){return false}return true}||i.existsSync||o.existsSync,f={arrow:process.env.NODE_BINDINGS_ARROW||" â†’ ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function l(e){if(typeof e=="string"){e={bindings:e}}else if(!e){e={}}Object.keys(f).map((function(t){if(!(t in e))e[t]=f[t]}));if(!e.module_root){e.module_root=t.getRoot(t.getFileName())}if(o.extname(e.bindings)!=".node"){e.bindings+=".node"}var n=true?require:undefined;var r=[],i=0,s=e.try.length,u,c,l;for(;i<s;i++){u=a.apply(null,e.try[i].map((function(t){return e[t]||t})));r.push(u);try{c=e.path?n.resolve(u):n(u);if(!e.path){c.path=u}return c}catch(e){if(e.code!=="MODULE_NOT_FOUND"&&e.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(e.message)){throw e}}}l=new Error("Could not locate the bindings file. Tried:\n"+r.map((function(t){return e.arrow+t})).join("\n"));l.tries=r;throw l}e.exports=t=l;t.getFileName=function e(t){var n=Error.prepareStackTrace,i=Error.stackTraceLimit,o={},a;Error.stackTraceLimit=10;Error.prepareStackTrace=function(e,n){for(var i=0,o=n.length;i<o;i++){a=n[i].getFileName();if(a!==r){if(t){if(a!==t){return}}else{return}}}};Error.captureStackTrace(o);o.stack;Error.prepareStackTrace=n;Error.stackTraceLimit=i;var u="file://";if(a.indexOf(u)===0){a=s(a)}return a};t.getRoot=function e(t){var n=u(t),r;while(true){if(n==="."){n=process.cwd()}if(c(a(n,"package.json"))||c(a(n,"node_modules"))){return n}if(r===n){throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ')}r=n;n=a(n,"..")}}}).call(this,"/index.js")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("os")},function(e,t,n){if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=n(40)}else{e.exports=n(42)}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("electron")},function(e,t){e.exports=require("events")},function(e,t,n){const r=n(5)("serialport/binding-abstract");class i{static async list(){r("list")}constructor(e={}){if(typeof e!=="object"){throw new TypeError('"options" is not an object')}}async open(e,t){if(!e){throw new TypeError('"path" is not a valid port')}if(typeof t!=="object"){throw new TypeError('"options" is not an object')}r("open");if(this.isOpen){throw new Error("Already open")}}async close(){r("close");if(!this.isOpen){throw new Error("Port is not open")}}async read(e,t,n){if(!Buffer.isBuffer(e)){throw new TypeError('"buffer" is not a Buffer')}if(typeof t!=="number"||isNaN(n)){throw new TypeError(`"offset" is not an integer got "${isNaN(n)?"NaN":typeof t}"`)}if(typeof n!=="number"||isNaN(n)){throw new TypeError(`"length" is not an integer got "${isNaN(n)?"NaN":typeof n}"`)}r("read");if(e.length<t+n){throw new Error("buffer is too small")}if(!this.isOpen){throw new Error("Port is not open")}}async write(e){if(!Buffer.isBuffer(e)){throw new TypeError('"buffer" is not a Buffer')}r("write",e.length,"bytes");if(!this.isOpen){r("write","error port is not open");throw new Error("Port is not open")}}async update(e){if(typeof e!=="object"){throw TypeError('"options" is not an object')}if(typeof e.baudRate!=="number"){throw new TypeError('"options.baudRate" is not a number')}r("update");if(!this.isOpen){throw new Error("Port is not open")}}async set(e){if(typeof e!=="object"){throw new TypeError('"options" is not an object')}r("set");if(!this.isOpen){throw new Error("Port is not open")}}async get(){r("get");if(!this.isOpen){throw new Error("Port is not open")}}async getBaudRate(){r("getbaudRate");if(!this.isOpen){throw new Error("Port is not open")}}async flush(){r("flush");if(!this.isOpen){throw new Error("Port is not open")}}async drain(){r("drain");if(!this.isOpen){throw new Error("Port is not open")}}}e.exports=i},function(e,t){let n=false;const r=async e=>{const t=await e;return t.map(e=>{const t={...e};return Object.defineProperties(t,{comName:{get(){if(!n){n=true;console.warn(`"PortInfo.comName" has been deprecated. You should now use "PortInfo.path". The property will be removed in the next major release.`)}return t.path},enumerable:false}})})};e.exports={wrapWithHiddenComName:r}},function(e,t){var n=20;var r=16;e.exports={Cmnd_STK_GET_SYNC:48,Cmnd_STK_SET_DEVICE:66,Cmnd_STK_ENTER_PROGMODE:80,Cmnd_STK_LOAD_ADDRESS:85,Cmnd_STK_PROG_PAGE:100,Cmnd_STK_LEAVE_PROGMODE:81,Cmnd_STK_READ_SIGN:117,Sync_CRC_EOP:32,Resp_STK_OK:16,Resp_STK_INSYNC:20,Resp_STK_NOSYNC:21,Cmnd_STK_READ_PAGE:116,OK_RESPONSE:Buffer.from([n,r])}},function(e,t,n){var r=n(23);e["exports"]=r;n(76)()},function(e,t,n){var r=n(24);var i=n(25);var o={};o._parseHex=function(e){try{var t;if(typeof e==="string"){t=r.readFileSync(e,{encoding:"utf8"})}else{t=Buffer.from(e)}return i.parse(t).data}catch(e){return e}};o._hexStringToByte=function(e){return Buffer.from([parseInt(e,16)])};e.exports=o},function(e,t){var n=function(e){this.debug=e.debug;this.board=e.board;this.connection=e.connection;this.chip=new e.protocol({quiet:true})};n.prototype._reset=function(e){var t=this;t.connection._setDTR(false,250,(function(n){if(!n){t.debug("reset complete.")}return e(n)}))};e.exports=n},,function(e,t,n){const r=n(39);const i=n(46);const o=n(53);r.Binding=i;r.parsers=o;e.exports=r},function(e,t,n){function r(e){r.debug=r;r.default=r;r.coerce=f;r.disable=a;r.enable=s;r.enabled=u;r.humanize=n(41);Object.keys(e).forEach(t=>{r[t]=e[t]});r.instances=[];r.names=[];r.skips=[];r.formatters={};function t(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return r.colors[Math.abs(t)%r.colors.length]}r.selectColor=t;function r(e){let n;function s(...e){if(!s.enabled){return}const t=s;const i=Number(new Date);const o=i-(n||i);t.diff=o;t.prev=n;t.curr=i;n=i;e[0]=r.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if(n==="%%"){return n}a++;const o=r.formatters[i];if(typeof o==="function"){const r=e[a];n=o.call(t,r);e.splice(a,1);a--}return n});r.formatArgs.call(t,e);const u=t.log||r.log;u.apply(t,e)}s.namespace=e;s.enabled=r.enabled(e);s.useColors=r.useColors();s.color=t(e);s.destroy=i;s.extend=o;if(typeof r.init==="function"){r.init(s)}r.instances.push(s);return s}function i(){const e=r.instances.indexOf(this);if(e!==-1){r.instances.splice(e,1);return true}return false}function o(e,t){const n=r(this.namespace+(typeof t==="undefined"?":":t)+e);n.log=this.log;return n}function s(e){r.save(e);r.names=[];r.skips=[];let t;const n=(typeof e==="string"?e:"").split(/[\s,]+/);const i=n.length;for(t=0;t<i;t++){if(!n[t]){continue}e=n[t].replace(/\*/g,".*?");if(e[0]==="-"){r.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{r.names.push(new RegExp("^"+e+"$"))}}for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}}function a(){const e=[...r.names.map(c),...r.skips.map(c).map(e=>"-"+e)].join(",");r.enable("");return e}function u(e){if(e[e.length-1]==="*"){return true}let t;let n;for(t=0,n=r.skips.length;t<n;t++){if(r.skips[t].test(e)){return false}}for(t=0,n=r.names.length;t<n;t++){if(r.names[t].test(e)){return true}}return false}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function f(e){if(e instanceof Error){return e.stack||e.message}return e}r.enable(r.load());return r}e.exports=r},function(e,t,n){const r=n(5);const i=r("serialport/bindings/poller");const o=n(8);const s=n(1)("bindings.node").Poller;const a={UV_READABLE:1,UV_WRITABLE:2,UV_DISCONNECT:4};function u(e,t){if(e){i("error",e);this.emit("readable",e);this.emit("writable",e);this.emit("disconnect",e);return}if(t&a.UV_READABLE){i('received "readable"');this.emit("readable",null)}if(t&a.UV_WRITABLE){i('received "writable"');this.emit("writable",null)}if(t&a.UV_DISCONNECT){i('received "disconnect"');this.emit("disconnect",null)}}class c extends o{constructor(e,t=s){i("Creating poller");super();this.poller=new t(e,u.bind(this))}once(e,t){switch(e){case"readable":this.poll(a.UV_READABLE);break;case"writable":this.poll(a.UV_WRITABLE);break;case"disconnect":this.poll(a.UV_DISCONNECT);break}return super.once(e,t)}poll(e){e=e||0;if(e&a.UV_READABLE){i('Polling for "readable"')}if(e&a.UV_WRITABLE){i('Polling for "writable"')}if(e&a.UV_DISCONNECT){i('Polling for "disconnect"')}this.poller.poll(e)}stop(){i("Stopping poller");this.poller.stop();this.emitCanceled()}destroy(){i("Destroying poller");this.poller.destroy();this.emitCanceled()}emitCanceled(){const e=new Error("Canceled");e.canceled=true;this.emit("readable",e);this.emit("writable",e);this.emit("disconnect",e)}}c.EVENTS=a;e.exports=c},function(e,t,n){const r=n(3);const i=n(5);const o=i("serialport/bindings/unixRead");const{promisify:s}=n(0);const a=s(r.read);const u=e=>new Promise((t,n)=>{e.poller.once("readable",e=>e?n(e):t())});const c=async({binding:e,buffer:t,offset:n,length:r,fsReadAsync:i=a})=>{o("Starting read");if(!e.isOpen){const e=new Error("Port is not open");e.canceled=true;throw e}try{const{bytesRead:s}=await i(e.fd,t,n,r,null);if(s===0){return c({binding:e,buffer:t,offset:n,length:r,fsReadAsync:i})}o("Finished read",s,"bytes");return{bytesRead:s,buffer:t}}catch(s){o("read error",s);if(s.code==="EAGAIN"||s.code==="EWOULDBLOCK"||s.code==="EINTR"){if(!e.isOpen){const e=new Error("Port is not open");e.canceled=true;throw e}o("waiting for readable because of code:",s.code);await u(e);return c({binding:e,buffer:t,offset:n,length:r,fsReadAsync:i})}const a=s.code==="EBADF"||s.code==="ENXIO"||s.code==="UNKNOWN"||s.errno===-1;if(a){s.canceled=true;o("disconnecting",s)}throw s}};e.exports=c},function(e,t,n){const r=n(3);const i=n(5);const o=i("serialport/bindings/unixWrite");const{promisify:s}=n(0);const a=s(r.write);const u=e=>new Promise((t,n)=>{e.poller.once("writable",e=>e?n(e):t())});const c=async({binding:e,buffer:t,offset:n=0,fsWriteAsync:r=a})=>{const i=t.length-n;o("Starting write",t.length,"bytes offset",n,"bytesToWrite",i);if(!e.isOpen){throw new Error("Port is not open")}try{const{bytesWritten:s}=await r(e.fd,t,n,i);o("write returned: wrote",s,"bytes");if(s+n<t.length){if(!e.isOpen){throw new Error("Port is not open")}return c({binding:e,buffer:t,offset:s+n,fsWriteAsync:r})}o("Finished writing",s+n,"bytes")}catch(i){o("write errored",i);if(i.code==="EAGAIN"||i.code==="EWOULDBLOCK"||i.code==="EINTR"){if(!e.isOpen){throw new Error("Port is not open")}o("waiting for writable because of code:",i.code);await u(e);return c({binding:e,buffer:t,offset:n,fsWriteAsync:r})}const s=i.code==="EBADF"||i.code==="ENXIO"||i.code==="UNKNOWN"||i.errno===-1;if(s){i.disconnect=true;o("disconnecting",i)}o("error",i);throw i}};e.exports=c},function(e,t,n){const r=n(22);class i extends r{constructor(e){const t={delimiter:Buffer.from("\n","utf8"),encoding:"utf8",...e};if(typeof t.delimiter==="string"){t.delimiter=Buffer.from(t.delimiter,t.encoding)}super(t)}}e.exports=i},function(e,t,n){const{Transform:r}=n(2);class i extends r{constructor(e={}){super(e);if(e.delimiter===undefined){throw new TypeError('"delimiter" is not a bufferable object')}if(e.delimiter.length===0){throw new TypeError('"delimiter" has a 0 or undefined length')}this.includeDelimiter=e.includeDelimiter!==undefined?e.includeDelimiter:false;this.delimiter=Buffer.from(e.delimiter);this.buffer=Buffer.alloc(0)}_transform(e,t,n){let r=Buffer.concat([this.buffer,e]);let i;while((i=r.indexOf(this.delimiter))!==-1){this.push(r.slice(0,i+(this.includeDelimiter?this.delimiter.length:0)));r=r.slice(i+this.delimiter.length)}this.buffer=r;n()}_flush(e){this.push(this.buffer);this.buffer=Buffer.alloc(0);e()}}e.exports=i},function(e,t,n){var r={};e["exports"]=r;r.themes={};var i=n(0);var o=r.styles=n(67);var s=Object.defineProperties;var a=new RegExp(/[\r\n]+/g);r.supportsColor=n(68).supportsColor;if(typeof r.enabled==="undefined"){r.enabled=r.supportsColor()!==false}r.enable=function(){r.enabled=true};r.disable=function(){r.enabled=false};r.stripColors=r.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};var u=r.stylize=function e(t,n){if(!r.enabled){return t+""}var i=o[n];if(!i&&n in r){return r[n](t)}return i.open+t+i.close};var c=/[|\\{}()[\]^$+*?.]/g;var f=function(e){if(typeof e!=="string"){throw new TypeError("Expected a string")}return e.replace(c,"\\$&")};function l(e){var t=function e(){return h.apply(e,arguments)};t._styles=e;t.__proto__=d;return t}var p=function(){var e={};o.grey=o.gray;Object.keys(o).forEach((function(t){o[t].closeRe=new RegExp(f(o[t].close),"g");e[t]={get:function(){return l(this._styles.concat(t))}}}));return e}();var d=s((function e(){}),p);function h(){var e=Array.prototype.slice.call(arguments);var t=e.map((function(e){if(e!=null&&e.constructor===String){return e}else{return i.inspect(e)}})).join(" ");if(!r.enabled||!t){return t}var n=t.indexOf("\n")!=-1;var s=this._styles;var u=s.length;while(u--){var c=o[s[u]];t=c.open+t.replace(c.closeRe,c.open)+c.close;if(n){t=t.replace(a,(function(e){return c.close+e+c.open}))}}return t}r.setTheme=function(e){if(typeof e==="string"){console.log("colors.setTheme now only accepts an object, not a string.  "+"If you are trying to set a theme from a file, it is now your (the "+"caller's) responsibility to require the file.  The old syntax "+"looked like colors.setTheme(__dirname + "+"'/../themes/generic-logging.js'); The new syntax looks like "+"colors.setTheme(require(__dirname + "+"'/../themes/generic-logging.js'));");return}for(var t in e){(function(t){r[t]=function(n){if(typeof e[t]==="object"){var i=n;for(var o in e[t]){i=r[e[t][o]](i)}return i}return r[e[t]](n)}})(t)}};function v(){var e={};Object.keys(p).forEach((function(t){e[t]={get:function(){return l([t])}}}));return e}var m=function e(t,n){var r=n.split("");r=r.map(t);return r.join("")};r.trap=n(70);r.zalgo=n(71);r.maps={};r.maps.america=n(72)(r);r.maps.zebra=n(73)(r);r.maps.rainbow=n(74)(r);r.maps.random=n(75)(r);for(var g in r.maps){(function(e){r[e]=function(t){return m(r.maps[e],t)}})(g)}s(r,v())},function(e,t,n){var r=n(3);var i=n(77);var o=n(79);var s=n(80);var a=n(0);var u;var c;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){u=Symbol.for("graceful-fs.queue");c=Symbol.for("graceful-fs.previous")}else{u="___graceful-fs.queue";c="___graceful-fs.previous"}function f(){}function l(e,t){Object.defineProperty(e,u,{get:function(){return t}})}var p=f;if(a.debuglog)p=a.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))p=function(){var e=a.format.apply(a,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: ");console.error(e)};if(!r[u]){var d=global[u]||[];l(r,d);r.close=function(e){function t(t,n){return e.call(r,t,(function(e){if(!e){m()}if(typeof n==="function")n.apply(this,arguments)}))}Object.defineProperty(t,c,{value:e});return t}(r.close);r.closeSync=function(e){function t(t){e.apply(r,arguments);m()}Object.defineProperty(t,c,{value:e});return t}(r.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",(function(){p(r[u]);n(81).equal(r[u].length,0)}))}}if(!global[u]){l(global,r[u])}e.exports=h(s(r));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!r.__patched){e.exports=h(r);r.__patched=true}function h(e){i(e);e.gracefulify=h;e.createReadStream=x;e.createWriteStream=O;var t=e.readFile;e.readFile=n;function n(e,n,r){if(typeof n==="function")r=n,n=null;return i(e,n,r);function i(e,n,r){return t(e,n,(function(t){if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))v([i,[e,n,r]]);else{if(typeof r==="function")r.apply(this,arguments);m()}}))}}var r=e.writeFile;e.writeFile=s;function s(e,t,n,i){if(typeof n==="function")i=n,n=null;return o(e,t,n,i);function o(e,t,n,i){return r(e,t,n,(function(r){if(r&&(r.code==="EMFILE"||r.code==="ENFILE"))v([o,[e,t,n,i]]);else{if(typeof i==="function")i.apply(this,arguments);m()}}))}}var a=e.appendFile;if(a)e.appendFile=u;function u(e,t,n,r){if(typeof n==="function")r=n,n=null;return i(e,t,n,r);function i(e,t,n,r){return a(e,t,n,(function(o){if(o&&(o.code==="EMFILE"||o.code==="ENFILE"))v([i,[e,t,n,r]]);else{if(typeof r==="function")r.apply(this,arguments);m()}}))}}var c=e.readdir;e.readdir=f;function f(e,t,n){var r=[e];if(typeof t!=="function"){r.push(t)}else{n=t}r.push(i);return l(r);function i(e,t){if(t&&t.sort)t.sort();if(e&&(e.code==="EMFILE"||e.code==="ENFILE"))v([l,[r]]);else{if(typeof n==="function")n.apply(this,arguments);m()}}}function l(t){return c.apply(e,t)}if(process.version.substr(0,4)==="v0.8"){var p=o(e);_=p.ReadStream;E=p.WriteStream}var d=e.ReadStream;if(d){_.prototype=Object.create(d.prototype);_.prototype.open=w}var g=e.WriteStream;if(g){E.prototype=Object.create(g.prototype);E.prototype.open=S}Object.defineProperty(e,"ReadStream",{get:function(){return _},set:function(e){_=e},enumerable:true,configurable:true});Object.defineProperty(e,"WriteStream",{get:function(){return E},set:function(e){E=e},enumerable:true,configurable:true});var y=_;Object.defineProperty(e,"FileReadStream",{get:function(){return y},set:function(e){y=e},enumerable:true,configurable:true});var b=E;Object.defineProperty(e,"FileWriteStream",{get:function(){return b},set:function(e){b=e},enumerable:true,configurable:true});function _(e,t){if(this instanceof _)return d.apply(this,arguments),this;else return _.apply(Object.create(_.prototype),arguments)}function w(){var e=this;A(e.path,e.flags,e.mode,(function(t,n){if(t){if(e.autoClose)e.destroy();e.emit("error",t)}else{e.fd=n;e.emit("open",n);e.read()}}))}function E(e,t){if(this instanceof E)return g.apply(this,arguments),this;else return E.apply(Object.create(E.prototype),arguments)}function S(){var e=this;A(e.path,e.flags,e.mode,(function(t,n){if(t){e.destroy();e.emit("error",t)}else{e.fd=n;e.emit("open",n)}}))}function x(t,n){return new e.ReadStream(t,n)}function O(t,n){return new e.WriteStream(t,n)}var C=e.open;e.open=A;function A(e,t,n,r){if(typeof n==="function")r=n,n=null;return i(e,t,n,r);function i(e,t,n,r){return C(e,t,n,(function(o,s){if(o&&(o.code==="EMFILE"||o.code==="ENFILE"))v([i,[e,t,n,r]]);else{if(typeof r==="function")r.apply(this,arguments);m()}}))}}return e}function v(e){p("ENQUEUE",e[0].name,e[1]);r[u].push(e)}function m(){var e=r[u].shift();if(e){p("RETRY",e[0].name,e[1]);e[0].apply(null,e[1])}}},function(e,t){const n=0,r=1,i=2,o=3,s=4,a=5;const u=255;t.parse=function e(t,c){if(t instanceof Buffer)t=t.toString("ascii");var f=Buffer.alloc(c||8192),l=0,p=0,d=null,h=null,v=0,m=0;const g=11;while(m+g<=t.length){if(t.charAt(m++)!=":")throw new Error("Line "+(v+1)+" does not start with a colon (:).");else v++;var y=parseInt(t.substr(m,2),16);m+=2;var b=parseInt(t.substr(m,4),16);m+=4;var _=parseInt(t.substr(m,2),16);m+=2;var w=t.substr(m,y*2),E=Buffer.from(w,"hex");m+=y*2;var S=parseInt(t.substr(m,2),16);m+=2;var x=y+(b>>8)+b+_&255;for(var O=0;O<y;O++)x=x+E[O]&255;x=256-x&255;if(S!=x)throw new Error("Invalid checksum on line "+v+": got "+S+", but expected "+x);switch(_){case n:var C=p+b;if(C+y>=f.length){var A=Buffer.alloc((C+y)*2);f.copy(A,0,0,l);f=A}if(C>l)f.fill(u,l,C);E.copy(f,C);l=Math.max(l,C+y);break;case r:if(y!=0)throw new Error("Invalid EOF record on line "+v+".");return{data:f.slice(0,l),startSegmentAddress:d,startLinearAddress:h};break;case i:if(y!=2||b!=0)throw new Error("Invalid extended segment address record on line "+v+".");p=parseInt(w,16)<<4;break;case o:if(y!=4||b!=0)throw new Error("Invalid start segment address record on line "+v+".");d=parseInt(w,16);break;case s:if(y!=2||b!=0)throw new Error("Invalid extended linear address record on line "+v+".");p=parseInt(w,16)<<16;break;case a:if(y!=4||b!=0)throw new Error("Invalid start linear address record on line "+v+".");h=parseInt(w,16);break;default:throw new Error("Invalid record type ("+_+") on line "+v);break}if(t.charAt(m)=="\r")m++;if(t.charAt(m)=="\n")m++}throw new Error("Unexpected end of input: missing or invalid EOF record.")}},function(e,t){e.exports.MESSAGE_START=27;e.exports.TOKEN=14;e.exports.CMD_SIGN_ON=1;e.exports.CMD_SET_PARAMETER=2;e.exports.CMD_GET_PARAMETER=3;e.exports.CMD_SET_DEVICE_PARAMETERS=4;e.exports.CMD_OSCCAL=5;e.exports.CMD_LOAD_ADDRESS=6;e.exports.CMD_FIRMWARE_UPGRADE=7;e.exports.CMD_ENTER_PROGMODE_ISP=16;e.exports.CMD_LEAVE_PROGMODE_ISP=17;e.exports.CMD_CHIP_ERASE_ISP=18;e.exports.CMD_PROGRAM_FLASH_ISP=19;e.exports.CMD_READ_FLASH_ISP=20;e.exports.CMD_PROGRAM_EEPROM_ISP=21;e.exports.CMD_READ_EEPROM_ISP=22;e.exports.CMD_PROGRAM_FUSE_ISP=23;e.exports.CMD_READ_FUSE_ISP=24;e.exports.CMD_PROGRAM_LOCK_ISP=25;e.exports.CMD_READ_LOCK_ISP=26;e.exports.CMD_READ_SIGNATURE_ISP=27;e.exports.CMD_READ_OSCCAL_ISP=28;e.exports.CMD_SPI_MULTI=29;e.exports.CMD_ENTER_PROGMODE_PP=32;e.exports.CMD_LEAVE_PROGMODE_PP=33;e.exports.CMD_CHIP_ERASE_PP=34;e.exports.CMD_PROGRAM_FLASH_PP=35;e.exports.CMD_READ_FLASH_PP=36;e.exports.CMD_PROGRAM_EEPROM_PP=37;e.exports.CMD_READ_EEPROM_PP=38;e.exports.CMD_PROGRAM_FUSE_PP=39;e.exports.CMD_READ_FUSE_PP=40;e.exports.CMD_PROGRAM_LOCK_PP=41;e.exports.CMD_READ_LOCK_PP=42;e.exports.CMD_READ_SIGNATURE_PP=43;e.exports.CMD_READ_OSCCAL_PP=44;e.exports.CMD_SET_CONTROL_STACK=45;e.exports.CMD_ENTER_PROGMODE_HVSP=48;e.exports.CMD_LEAVE_PROGMODE_HVSP=49;e.exports.CMD_CHIP_ERASE_HVSP=50;e.exports.CMD_PROGRAM_FLASH_HVSP=51;e.exports.CMD_READ_FLASH_HVSP=52;e.exports.CMD_PROGRAM_EEPROM_HVSP=53;e.exports.CMD_READ_EEPROM_HVSP=54;e.exports.CMD_PROGRAM_FUSE_HVSP=55;e.exports.CMD_READ_FUSE_HVSP=56;e.exports.CMD_PROGRAM_LOCK_HVSP=57;e.exports.CMD_READ_LOCK_HVSP=58;e.exports.CMD_READ_SIGNATURE_HVSP=59;e.exports.CMD_READ_OSCCAL_HVSP=60;e.exports.STATUS_CMD_OK=0;e.exports.STATUS_CMD_TOUT=128;e.exports.STATUS_RDY_BSY_TOUT=129;e.exports.STATUS_SET_PARAM_MISSING=130;e.exports.STATUS_CMD_FAILED=192;e.exports.STATUS_CKSUM_ERROR=193;e.exports.STATUS_CMD_UNKNOWN=201;e.exports.STATUS_BUILD_NUMBER_LOW=128;e.exports.STATUS_BUILD_NUMBER_HIGH=129;e.exports.STATUS_HW_VER=144;e.exports.STATUS_SW_MAJOR=145;e.exports.STATUS_SW_MINOR=146;e.exports.STATUS_VTARGET=148;e.exports.STATUS_VADJUST=149;e.exports.STATUS_OSC_PSCALE=150;e.exports.STATUS_OSC_CMATCH=151;e.exports.STATUS_SCK_DURATION=152;e.exports.STATUS_TOPCARD_DETECT=154;e.exports.STATUS_STATUS=156;e.exports.STATUS_DATA=157;e.exports.STATUS_RESET_POLARITY=158;e.exports.STATUS_CONTROLLER_INIT=159;e.exports.ANSWER_CKSUM_ERROR=176},function(e,t,n){(function(e){(function(e,n){true?n(t):undefined})(this,(function(t){"use strict";function n(e,t){t=t|0;var n=Math.max(e.length-t,0);var r=Array(n);for(var i=0;i<n;i++){r[i]=e[t+i]}return r}var r=function(e){var t=n(arguments,1);return function(){var r=n(arguments);return e.apply(null,t.concat(r))}};var i=function(e){return function(){var t=n(arguments);var r=t.pop();e.call(this,t,r)}};function o(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var s=typeof setImmediate==="function"&&setImmediate;var a=typeof process==="object"&&typeof process.nextTick==="function";function u(e){setTimeout(e,0)}function c(e){return function(t){var r=n(arguments,1);e((function(){t.apply(null,r)}))}}var f;if(s){f=setImmediate}else if(a){f=process.nextTick}else{f=u}var l=c(f);function p(e){return i((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}if(o(r)&&typeof r.then==="function"){r.then((function(e){d(n,null,e)}),(function(e){d(n,e.message?e:new Error(e))}))}else{n(null,r)}}))}function d(e,t,n){try{e(t,n)}catch(e){l(h,e)}}function h(e){throw e}var v=typeof Symbol==="function";function m(e){return v&&e[Symbol.toStringTag]==="AsyncFunction"}function g(e){return m(e)?p(e):e}function y(e){return function(t){var r=n(arguments,1);var o=i((function(n,r){var i=this;return e(t,(function(e,t){g(e).apply(i,n.concat(t))}),r)}));if(r.length){return o.apply(this,r)}else{return o}}}var b=typeof global=="object"&&global&&global.Object===Object&&global;var _=typeof self=="object"&&self&&self.Object===Object&&self;var w=b||_||Function("return this")();var E=w.Symbol;var S=Object.prototype;var x=S.hasOwnProperty;var O=S.toString;var C=E?E.toStringTag:undefined;function A(e){var t=x.call(e,C),n=e[C];try{e[C]=undefined;var r=true}catch(e){}var i=O.call(e);if(r){if(t){e[C]=n}else{delete e[C]}}return i}var T=Object.prototype;var k=T.toString;function R(e){return k.call(e)}var I="[object Null]";var P="[object Undefined]";var D=E?E.toStringTag:undefined;function L(e){if(e==null){return e===undefined?P:I}return D&&D in Object(e)?A(e):R(e)}var M="[object AsyncFunction]";var B="[object Function]";var j="[object GeneratorFunction]";var N="[object Proxy]";function F(e){if(!o(e)){return false}var t=L(e);return t==B||t==j||t==M||t==N}var U=9007199254740991;function z(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=U}function G(e){return e!=null&&z(e.length)&&!F(e)}var V={};function K(){}function q(e){return function(){if(e===null)return;var t=e;e=null;t.apply(this,arguments)}}var W=typeof Symbol==="function"&&Symbol.iterator;var H=function(e){return W&&e[W]&&e[W]()};function $(e,t){var n=-1,r=Array(e);while(++n<e){r[n]=t(n)}return r}function Y(e){return e!=null&&typeof e=="object"}var Q="[object Arguments]";function X(e){return Y(e)&&L(e)==Q}var J=Object.prototype;var Z=J.hasOwnProperty;var ee=J.propertyIsEnumerable;var te=X(function(){return arguments}())?X:function(e){return Y(e)&&Z.call(e,"callee")&&!ee.call(e,"callee")};var ne=Array.isArray;function re(){return false}var ie=typeof t=="object"&&t&&!t.nodeType&&t;var oe=ie&&typeof e=="object"&&e&&!e.nodeType&&e;var se=oe&&oe.exports===ie;var ae=se?w.Buffer:undefined;var ue=ae?ae.isBuffer:undefined;var ce=ue||re;var fe=9007199254740991;var le=/^(?:0|[1-9]\d*)$/;function pe(e,t){var n=typeof e;t=t==null?fe:t;return!!t&&(n=="number"||n!="symbol"&&le.test(e))&&(e>-1&&e%1==0&&e<t)}var de="[object Arguments]";var he="[object Array]";var ve="[object Boolean]";var me="[object Date]";var ge="[object Error]";var ye="[object Function]";var be="[object Map]";var _e="[object Number]";var we="[object Object]";var Ee="[object RegExp]";var Se="[object Set]";var xe="[object String]";var Oe="[object WeakMap]";var Ce="[object ArrayBuffer]";var Ae="[object DataView]";var Te="[object Float32Array]";var ke="[object Float64Array]";var Re="[object Int8Array]";var Ie="[object Int16Array]";var Pe="[object Int32Array]";var De="[object Uint8Array]";var Le="[object Uint8ClampedArray]";var Me="[object Uint16Array]";var Be="[object Uint32Array]";var je={};je[Te]=je[ke]=je[Re]=je[Ie]=je[Pe]=je[De]=je[Le]=je[Me]=je[Be]=true;je[de]=je[he]=je[Ce]=je[ve]=je[Ae]=je[me]=je[ge]=je[ye]=je[be]=je[_e]=je[we]=je[Ee]=je[Se]=je[xe]=je[Oe]=false;function Ne(e){return Y(e)&&z(e.length)&&!!je[L(e)]}function Fe(e){return function(t){return e(t)}}var Ue=typeof t=="object"&&t&&!t.nodeType&&t;var ze=Ue&&typeof e=="object"&&e&&!e.nodeType&&e;var Ge=ze&&ze.exports===Ue;var Ve=Ge&&b.process;var Ke=function(){try{var e=ze&&ze.require&&ze.require("util").types;if(e){return e}return Ve&&Ve.binding&&Ve.binding("util")}catch(e){}}();var qe=Ke&&Ke.isTypedArray;var We=qe?Fe(qe):Ne;var He=Object.prototype;var $e=He.hasOwnProperty;function Ye(e,t){var n=ne(e),r=!n&&te(e),i=!n&&!r&&ce(e),o=!n&&!r&&!i&&We(e),s=n||r||i||o,a=s?$(e.length,String):[],u=a.length;for(var c in e){if((t||$e.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||pe(c,u)))){a.push(c)}}return a}var Qe=Object.prototype;function Xe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Qe;return e===n}function Je(e,t){return function(n){return e(t(n))}}var Ze=Je(Object.keys,Object);var et=Object.prototype;var tt=et.hasOwnProperty;function nt(e){if(!Xe(e)){return Ze(e)}var t=[];for(var n in Object(e)){if(tt.call(e,n)&&n!="constructor"){t.push(n)}}return t}function rt(e){return G(e)?Ye(e):nt(e)}function it(e){var t=-1;var n=e.length;return function r(){return++t<n?{value:e[t],key:t}:null}}function ot(e){var t=-1;return function n(){var r=e.next();if(r.done)return null;t++;return{value:r.value,key:t}}}function st(e){var t=rt(e);var n=-1;var r=t.length;return function i(){var o=t[++n];return n<r?{value:e[o],key:o}:null}}function at(e){if(G(e)){return it(e)}var t=H(e);return t?ot(t):st(e)}function ut(e){return function(){if(e===null)throw new Error("Callback was already called.");var t=e;e=null;t.apply(this,arguments)}}function ct(e){return function(t,n,r){r=q(r||K);if(e<=0||!t){return r(null)}var i=at(t);var o=false;var s=0;var a=false;function u(e,t){s-=1;if(e){o=true;r(e)}else if(t===V||o&&s<=0){o=true;return r(null)}else if(!a){c()}}function c(){a=true;while(s<e&&!o){var t=i();if(t===null){o=true;if(s<=0){r(null)}return}s+=1;n(t.value,t.key,ut(u))}a=false}c()}}function ft(e,t,n,r){ct(t)(e,g(n),r)}function lt(e,t){return function(n,r,i){return e(n,t,r,i)}}function pt(e,t,n){n=q(n||K);var r=0,i=0,o=e.length;if(o===0){n(null)}function s(e,t){if(e){n(e)}else if(++i===o||t===V){n(null)}}for(;r<o;r++){t(e[r],r,ut(s))}}var dt=lt(ft,Infinity);var ht=function(e,t,n){var r=G(e)?pt:dt;r(e,g(t),n)};function vt(e){return function(t,n,r){return e(ht,t,g(n),r)}}function mt(e,t,n,r){r=r||K;t=t||[];var i=[];var o=0;var s=g(n);e(t,(function(e,t,n){var r=o++;s(e,(function(e,t){i[r]=t;n(e)}))}),(function(e){r(e,i)}))}var gt=vt(mt);var yt=y(gt);function bt(e){return function(t,n,r,i){return e(ct(n),t,g(r),i)}}var _t=bt(mt);var wt=lt(_t,1);var Et=y(wt);function St(e,t){var n=-1,r=e==null?0:e.length;while(++n<r){if(t(e[n],n,e)===false){break}}return e}function xt(e){return function(t,n,r){var i=-1,o=Object(t),s=r(t),a=s.length;while(a--){var u=s[e?a:++i];if(n(o[u],u,o)===false){break}}return t}}var Ot=xt();function Ct(e,t){return e&&Ot(e,t,rt)}function At(e,t,n,r){var i=e.length,o=n+(r?1:-1);while(r?o--:++o<i){if(t(e[o],o,e)){return o}}return-1}function Tt(e){return e!==e}function kt(e,t,n){var r=n-1,i=e.length;while(++r<i){if(e[r]===t){return r}}return-1}function Rt(e,t,n){return t===t?kt(e,t,n):At(e,Tt,n)}var It=function(e,t,r){if(typeof t==="function"){r=t;t=null}r=q(r||K);var i=rt(e);var o=i.length;if(!o){return r(null)}if(!t){t=o}var s={};var a=0;var u=false;var c=Object.create(null);var f=[];var l=[];var p={};Ct(e,(function(t,n){if(!ne(t)){d(n,[t]);l.push(n);return}var r=t.slice(0,t.length-1);var i=r.length;if(i===0){d(n,t);l.push(n);return}p[n]=i;St(r,(function(o){if(!e[o]){throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+o+"` in "+r.join(", "))}v(o,(function(){i--;if(i===0){d(n,t)}}))}))}));b();h();function d(e,t){f.push((function(){y(e,t)}))}function h(){if(f.length===0&&a===0){return r(null,s)}while(f.length&&a<t){var e=f.shift();e()}}function v(e,t){var n=c[e];if(!n){n=c[e]=[]}n.push(t)}function m(e){var t=c[e]||[];St(t,(function(e){e()}));h()}function y(e,t){if(u)return;var i=ut((function(t,i){a--;if(arguments.length>2){i=n(arguments,1)}if(t){var o={};Ct(s,(function(e,t){o[t]=e}));o[e]=i;u=true;c=Object.create(null);r(t,o)}else{s[e]=i;m(e)}}));a++;var o=g(t[t.length-1]);if(t.length>1){o(s,i)}else{o(i)}}function b(){var e;var t=0;while(l.length){e=l.pop();t++;St(_(e),(function(e){if(--p[e]===0){l.push(e)}}))}if(t!==o){throw new Error("async.auto cannot execute tasks due to a recursive dependency")}}function _(t){var n=[];Ct(e,(function(e,r){if(ne(e)&&Rt(e,t,0)>=0){n.push(r)}}));return n}};function Pt(e,t){var n=-1,r=e==null?0:e.length,i=Array(r);while(++n<r){i[n]=t(e[n],n,e)}return i}var Dt="[object Symbol]";function Lt(e){return typeof e=="symbol"||Y(e)&&L(e)==Dt}var Mt=1/0;var Bt=E?E.prototype:undefined;var jt=Bt?Bt.toString:undefined;function Nt(e){if(typeof e=="string"){return e}if(ne(e)){return Pt(e,Nt)+""}if(Lt(e)){return jt?jt.call(e):""}var t=e+"";return t=="0"&&1/e==-Mt?"-0":t}function Ft(e,t,n){var r=-1,i=e.length;if(t<0){t=-t>i?0:i+t}n=n>i?i:n;if(n<0){n+=i}i=t>n?0:n-t>>>0;t>>>=0;var o=Array(i);while(++r<i){o[r]=e[r+t]}return o}function Ut(e,t,n){var r=e.length;n=n===undefined?r:n;return!t&&n>=r?e:Ft(e,t,n)}function zt(e,t){var n=e.length;while(n--&&Rt(t,e[n],0)>-1){}return n}function Gt(e,t){var n=-1,r=e.length;while(++n<r&&Rt(t,e[n],0)>-1){}return n}function Vt(e){return e.split("")}var Kt="\\ud800-\\udfff";var qt="\\u0300-\\u036f";var Wt="\\ufe20-\\ufe2f";var Ht="\\u20d0-\\u20ff";var $t=qt+Wt+Ht;var Yt="\\ufe0e\\ufe0f";var Qt="\\u200d";var Xt=RegExp("["+Qt+Kt+$t+Yt+"]");function Jt(e){return Xt.test(e)}var Zt="\\ud800-\\udfff";var en="\\u0300-\\u036f";var tn="\\ufe20-\\ufe2f";var nn="\\u20d0-\\u20ff";var rn=en+tn+nn;var on="\\ufe0e\\ufe0f";var sn="["+Zt+"]";var an="["+rn+"]";var un="\\ud83c[\\udffb-\\udfff]";var cn="(?:"+an+"|"+un+")";var fn="[^"+Zt+"]";var ln="(?:\\ud83c[\\udde6-\\uddff]){2}";var pn="[\\ud800-\\udbff][\\udc00-\\udfff]";var dn="\\u200d";var hn=cn+"?";var vn="["+on+"]?";var mn="(?:"+dn+"(?:"+[fn,ln,pn].join("|")+")"+vn+hn+")*";var gn=vn+hn+mn;var yn="(?:"+[fn+an+"?",an,ln,pn,sn].join("|")+")";var bn=RegExp(un+"(?="+un+")|"+yn+gn,"g");function _n(e){return e.match(bn)||[]}function wn(e){return Jt(e)?_n(e):Vt(e)}function En(e){return e==null?"":Nt(e)}var Sn=/^\s+|\s+$/g;function xn(e,t,n){e=En(e);if(e&&(n||t===undefined)){return e.replace(Sn,"")}if(!e||!(t=Nt(t))){return e}var r=wn(e),i=wn(t),o=Gt(r,i),s=zt(r,i)+1;return Ut(r,o,s).join("")}var On=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m;var Cn=/,/;var An=/(=.+)?(\s*)$/;var Tn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function kn(e){e=e.toString().replace(Tn,"");e=e.match(On)[2].replace(" ","");e=e?e.split(Cn):[];e=e.map((function(e){return xn(e.replace(An,""))}));return e}function Rn(e,t){var n={};Ct(e,(function(e,t){var r;var i=m(e);var o=!i&&e.length===1||i&&e.length===0;if(ne(e)){r=e.slice(0,-1);e=e[e.length-1];n[t]=r.concat(r.length>0?s:e)}else if(o){n[t]=e}else{r=kn(e);if(e.length===0&&!i&&r.length===0){throw new Error("autoInject task functions require explicit parameters.")}if(!i)r.pop();n[t]=r.concat(s)}function s(t,n){var i=Pt(r,(function(e){return t[e]}));i.push(n);g(e).apply(null,i)}}));It(n,t)}function In(){this.head=this.tail=null;this.length=0}function Pn(e,t){e.length=1;e.head=e.tail=t}In.prototype.removeLink=function(e){if(e.prev)e.prev.next=e.next;else this.head=e.next;if(e.next)e.next.prev=e.prev;else this.tail=e.prev;e.prev=e.next=null;this.length-=1;return e};In.prototype.empty=function(){while(this.head)this.shift();return this};In.prototype.insertAfter=function(e,t){t.prev=e;t.next=e.next;if(e.next)e.next.prev=t;else this.tail=t;e.next=t;this.length+=1};In.prototype.insertBefore=function(e,t){t.prev=e.prev;t.next=e;if(e.prev)e.prev.next=t;else this.head=t;e.prev=t;this.length+=1};In.prototype.unshift=function(e){if(this.head)this.insertBefore(this.head,e);else Pn(this,e)};In.prototype.push=function(e){if(this.tail)this.insertAfter(this.tail,e);else Pn(this,e)};In.prototype.shift=function(){return this.head&&this.removeLink(this.head)};In.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};In.prototype.toArray=function(){var e=Array(this.length);var t=this.head;for(var n=0;n<this.length;n++){e[n]=t.data;t=t.next}return e};In.prototype.remove=function(e){var t=this.head;while(!!t){var n=t.next;if(e(t)){this.removeLink(t)}t=n}return this};function Dn(e,t,n){if(t==null){t=1}else if(t===0){throw new Error("Concurrency must not be zero")}var r=g(e);var i=0;var o=[];var s=false;function a(e,t,n){if(n!=null&&typeof n!=="function"){throw new Error("task callback must be a function")}f.started=true;if(!ne(e)){e=[e]}if(e.length===0&&f.idle()){return l((function(){f.drain()}))}for(var r=0,i=e.length;r<i;r++){var o={data:e[r],callback:n||K};if(t){f._tasks.unshift(o)}else{f._tasks.push(o)}}if(!s){s=true;l((function(){s=false;f.process()}))}}function u(e){return function(t){i-=1;for(var n=0,r=e.length;n<r;n++){var s=e[n];var a=Rt(o,s,0);if(a===0){o.shift()}else if(a>0){o.splice(a,1)}s.callback.apply(s,arguments);if(t!=null){f.error(t,s.data)}}if(i<=f.concurrency-f.buffer){f.unsaturated()}if(f.idle()){f.drain()}f.process()}}var c=false;var f={_tasks:new In,concurrency:t,payload:n,saturated:K,unsaturated:K,buffer:t/4,empty:K,drain:K,error:K,started:false,paused:false,push:function(e,t){a(e,false,t)},kill:function(){f.drain=K;f._tasks.empty()},unshift:function(e,t){a(e,true,t)},remove:function(e){f._tasks.remove(e)},process:function(){if(c){return}c=true;while(!f.paused&&i<f.concurrency&&f._tasks.length){var e=[],t=[];var n=f._tasks.length;if(f.payload)n=Math.min(n,f.payload);for(var s=0;s<n;s++){var a=f._tasks.shift();e.push(a);o.push(a);t.push(a.data)}i+=1;if(f._tasks.length===0){f.empty()}if(i===f.concurrency){f.saturated()}var l=ut(u(e));r(t,l)}c=false},length:function(){return f._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return f._tasks.length+i===0},pause:function(){f.paused=true},resume:function(){if(f.paused===false){return}f.paused=false;l(f.process)}};return f}function Ln(e,t){return Dn(e,1,t)}var Mn=lt(ft,1);function Bn(e,t,n,r){r=q(r||K);var i=g(n);Mn(e,(function(e,n,r){i(t,e,(function(e,n){t=n;r(e)}))}),(function(e){r(e,t)}))}function jn(){var e=Pt(arguments,g);return function(){var t=n(arguments);var r=this;var i=t[t.length-1];if(typeof i=="function"){t.pop()}else{i=K}Bn(e,t,(function(e,t,i){t.apply(r,e.concat((function(e){var t=n(arguments,1);i(e,t)})))}),(function(e,t){i.apply(r,[e].concat(t))}))}}var Nn=function(){return jn.apply(null,n(arguments).reverse())};var Fn=Array.prototype.concat;var Un=function(e,t,r,i){i=i||K;var o=g(r);_t(e,t,(function(e,t){o(e,(function(e){if(e)return t(e);return t(null,n(arguments,1))}))}),(function(e,t){var n=[];for(var r=0;r<t.length;r++){if(t[r]){n=Fn.apply(n,t[r])}}return i(e,n)}))};var zn=lt(Un,Infinity);var Gn=lt(Un,1);var Vn=function(){var e=n(arguments);var t=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,t)}};function Kn(e){return e}function qn(e,t){return function(n,r,i,o){o=o||K;var s=false;var a;n(r,(function(n,r,o){i(n,(function(r,i){if(r){o(r)}else if(e(i)&&!a){s=true;a=t(true,n);o(null,V)}else{o()}}))}),(function(e){if(e){o(e)}else{o(null,s?a:t(false))}}))}}function Wn(e,t){return t}var Hn=vt(qn(Kn,Wn));var $n=bt(qn(Kn,Wn));var Yn=lt($n,1);function Qn(e){return function(t){var r=n(arguments,1);r.push((function(t){var r=n(arguments,1);if(typeof console==="object"){if(t){if(console.error){console.error(t)}}else if(console[e]){St(r,(function(t){console[e](t)}))}}}));g(t).apply(null,r)}}var Xn=Qn("dir");function Jn(e,t,r){r=ut(r||K);var i=g(e);var o=g(t);function s(e){if(e)return r(e);var t=n(arguments,1);t.push(a);o.apply(this,t)}function a(e,t){if(e)return r(e);if(!t)return r(null);i(s)}a(null,true)}function Zn(e,t,r){r=ut(r||K);var i=g(e);var o=function(e){if(e)return r(e);var s=n(arguments,1);if(t.apply(this,s))return i(o);r.apply(null,[null].concat(s))};i(o)}function er(e,t,n){Zn(e,(function(){return!t.apply(this,arguments)}),n)}function tr(e,t,n){n=ut(n||K);var r=g(t);var i=g(e);function o(e){if(e)return n(e);i(s)}function s(e,t){if(e)return n(e);if(!t)return n(null);r(o)}i(s)}function nr(e){return function(t,n,r){return e(t,r)}}function rr(e,t,n){ht(e,nr(g(t)),n)}function ir(e,t,n,r){ct(t)(e,nr(g(n)),r)}var or=lt(ir,1);function sr(e){if(m(e))return e;return i((function(t,n){var r=true;t.push((function(){var e=arguments;if(r){l((function(){n.apply(null,e)}))}else{n.apply(null,e)}}));e.apply(this,t);r=false}))}function ar(e){return!e}var ur=vt(qn(ar,ar));var cr=bt(qn(ar,ar));var fr=lt(cr,1);function lr(e){return function(t){return t==null?undefined:t[e]}}function pr(e,t,n,r){var i=new Array(t.length);e(t,(function(e,t,r){n(e,(function(e,n){i[t]=!!n;r(e)}))}),(function(e){if(e)return r(e);var n=[];for(var o=0;o<t.length;o++){if(i[o])n.push(t[o])}r(null,n)}))}function dr(e,t,n,r){var i=[];e(t,(function(e,t,r){n(e,(function(n,o){if(n){r(n)}else{if(o){i.push({index:t,value:e})}r()}}))}),(function(e){if(e){r(e)}else{r(null,Pt(i.sort((function(e,t){return e.index-t.index})),lr("value")))}}))}function hr(e,t,n,r){var i=G(t)?pr:dr;i(e,t,g(n),r||K)}var vr=vt(hr);var mr=bt(hr);var gr=lt(mr,1);function yr(e,t){var n=ut(t||K);var r=g(sr(e));function i(e){if(e)return n(e);r(i)}i()}var br=function(e,t,n,r){r=r||K;var i=g(n);_t(e,t,(function(e,t){i(e,(function(n,r){if(n)return t(n);return t(null,{key:r,val:e})}))}),(function(e,t){var n={};var i=Object.prototype.hasOwnProperty;for(var o=0;o<t.length;o++){if(t[o]){var s=t[o].key;var a=t[o].val;if(i.call(n,s)){n[s].push(a)}else{n[s]=[a]}}}return r(e,n)}))};var _r=lt(br,Infinity);var wr=lt(br,1);var Er=Qn("log");function Sr(e,t,n,r){r=q(r||K);var i={};var o=g(n);ft(e,t,(function(e,t,n){o(e,t,(function(e,r){if(e)return n(e);i[t]=r;n()}))}),(function(e){r(e,i)}))}var xr=lt(Sr,Infinity);var Or=lt(Sr,1);function Cr(e,t){return t in e}function Ar(e,t){var r=Object.create(null);var o=Object.create(null);t=t||Kn;var s=g(e);var a=i((function e(i,a){var u=t.apply(null,i);if(Cr(r,u)){l((function(){a.apply(null,r[u])}))}else if(Cr(o,u)){o[u].push(a)}else{o[u]=[a];s.apply(null,i.concat((function(){var e=n(arguments);r[u]=e;var t=o[u];delete o[u];for(var i=0,s=t.length;i<s;i++){t[i].apply(null,e)}})))}}));a.memo=r;a.unmemoized=e;return a}var Tr;if(a){Tr=process.nextTick}else if(s){Tr=setImmediate}else{Tr=u}var kr=c(Tr);function Rr(e,t,r){r=r||K;var i=G(t)?[]:{};e(t,(function(e,t,r){g(e)((function(e,o){if(arguments.length>2){o=n(arguments,1)}i[t]=o;r(e)}))}),(function(e){r(e,i)}))}function Ir(e,t){Rr(ht,e,t)}function Pr(e,t,n){Rr(ct(t),e,n)}var Dr=function(e,t){var n=g(e);return Dn((function(e,t){n(e[0],t)}),t,1)};var Lr=function(e,t){var n=Dr(e,t);n.push=function(e,t,r){if(r==null)r=K;if(typeof r!=="function"){throw new Error("task callback must be a function")}n.started=true;if(!ne(e)){e=[e]}if(e.length===0){return l((function(){n.drain()}))}t=t||0;var i=n._tasks.head;while(i&&t>=i.priority){i=i.next}for(var o=0,s=e.length;o<s;o++){var a={data:e[o],priority:t,callback:r};if(i){n._tasks.insertBefore(i,a)}else{n._tasks.push(a)}}l(n.process)};delete n.unshift;return n};function Mr(e,t){t=q(t||K);if(!ne(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++){g(e[n])(t)}}function Br(e,t,r,i){var o=n(e).reverse();Bn(o,t,r,i)}function jr(e){var t=g(e);return i((function e(r,i){r.push((function e(t,r){if(t){i(null,{error:t})}else{var o;if(arguments.length<=2){o=r}else{o=n(arguments,1)}i(null,{value:o})}}));return t.apply(this,r)}))}function Nr(e){var t;if(ne(e)){t=Pt(e,jr)}else{t={};Ct(e,(function(e,n){t[n]=jr.call(this,e)}))}return t}function Fr(e,t,n,r){hr(e,t,(function(e,t){n(e,(function(e,n){t(e,!n)}))}),r)}var Ur=vt(Fr);var zr=bt(Fr);var Gr=lt(zr,1);function Vr(e){return function(){return e}}function Kr(e,t,n){var r=5;var i=0;var o={times:r,intervalFunc:Vr(i)};function s(e,t){if(typeof t==="object"){e.times=+t.times||r;e.intervalFunc=typeof t.interval==="function"?t.interval:Vr(+t.interval||i);e.errorFilter=t.errorFilter}else if(typeof t==="number"||typeof t==="string"){e.times=+t||r}else{throw new Error("Invalid arguments for async.retry")}}if(arguments.length<3&&typeof e==="function"){n=t||K;t=e}else{s(o,e);n=n||K}if(typeof t!=="function"){throw new Error("Invalid arguments for async.retry")}var a=g(t);var u=1;function c(){a((function(e){if(e&&u++<o.times&&(typeof o.errorFilter!="function"||o.errorFilter(e))){setTimeout(c,o.intervalFunc(u))}else{n.apply(null,arguments)}}))}c()}var qr=function(e,t){if(!t){t=e;e=null}var n=g(t);return i((function(t,r){function i(e){n.apply(null,t.concat(e))}if(e)Kr(e,i,r);else Kr(i,r)}))};function Wr(e,t){Rr(Mn,e,t)}var Hr=vt(qn(Boolean,Kn));var $r=bt(qn(Boolean,Kn));var Yr=lt($r,1);function Qr(e,t,n){var r=g(t);gt(e,(function(e,t){r(e,(function(n,r){if(n)return t(n);t(null,{value:e,criteria:r})}))}),(function(e,t){if(e)return n(e);n(null,Pt(t.sort(i),lr("value")))}));function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}}function Xr(e,t,n){var r=g(e);return i((function(i,o){var s=false;var a;function u(){var t=e.name||"anonymous";var r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT";if(n){r.info=n}s=true;o(r)}i.push((function(){if(!s){o.apply(null,arguments);clearTimeout(a)}}));a=setTimeout(u,t);r.apply(null,i)}))}var Jr=Math.ceil;var Zr=Math.max;function ei(e,t,n,r){var i=-1,o=Zr(Jr((t-e)/(n||1)),0),s=Array(o);while(o--){s[r?o:++i]=e;e+=n}return s}function ti(e,t,n,r){var i=g(n);_t(ei(0,e,1),t,i,r)}var ni=lt(ti,Infinity);var ri=lt(ti,1);function ii(e,t,n,r){if(arguments.length<=3){r=n;n=t;t=ne(e)?[]:{}}r=q(r||K);var i=g(n);ht(e,(function(e,n,r){i(t,e,n,r)}),(function(e){r(e,t)}))}function oi(e,t){var r=null;var i;t=t||K;or(e,(function(e,t){g(e)((function(e,o){if(arguments.length>2){i=n(arguments,1)}else{i=o}r=e;t(!e)}))}),(function(){t(r,i)}))}function si(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function ai(e,t,r){r=ut(r||K);var i=g(t);if(!e())return r(null);var o=function(t){if(t)return r(t);if(e())return i(o);var s=n(arguments,1);r.apply(null,[null].concat(s))};i(o)}function ui(e,t,n){ai((function(){return!e.apply(this,arguments)}),t,n)}var ci=function(e,t){t=q(t||K);if(!ne(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function i(t){var n=g(e[r++]);t.push(ut(o));n.apply(null,t)}function o(o){if(o||r===e.length){return t.apply(null,arguments)}i(n(arguments,1))}i([])};var fi={apply:r,applyEach:yt,applyEachSeries:Et,asyncify:p,auto:It,autoInject:Rn,cargo:Ln,compose:Nn,concat:zn,concatLimit:Un,concatSeries:Gn,constant:Vn,detect:Hn,detectLimit:$n,detectSeries:Yn,dir:Xn,doDuring:Jn,doUntil:er,doWhilst:Zn,during:tr,each:rr,eachLimit:ir,eachOf:ht,eachOfLimit:ft,eachOfSeries:Mn,eachSeries:or,ensureAsync:sr,every:ur,everyLimit:cr,everySeries:fr,filter:vr,filterLimit:mr,filterSeries:gr,forever:yr,groupBy:_r,groupByLimit:br,groupBySeries:wr,log:Er,map:gt,mapLimit:_t,mapSeries:wt,mapValues:xr,mapValuesLimit:Sr,mapValuesSeries:Or,memoize:Ar,nextTick:kr,parallel:Ir,parallelLimit:Pr,priorityQueue:Lr,queue:Dr,race:Mr,reduce:Bn,reduceRight:Br,reflect:jr,reflectAll:Nr,reject:Ur,rejectLimit:zr,rejectSeries:Gr,retry:Kr,retryable:qr,seq:jn,series:Wr,setImmediate:l,some:Hr,someLimit:$r,someSeries:Yr,sortBy:Qr,timeout:Xr,times:ni,timesLimit:ti,timesSeries:ri,transform:ii,tryEach:oi,unmemoize:si,until:ui,waterfall:ci,whilst:ai,all:ur,allLimit:cr,allSeries:fr,any:Hr,anyLimit:$r,anySeries:Yr,find:Hn,findLimit:$n,findSeries:Yn,forEach:rr,forEachSeries:or,forEachLimit:ir,forEachOf:ht,forEachOfSeries:Mn,forEachOfLimit:ft,inject:Bn,foldl:Bn,foldr:Br,select:vr,selectLimit:mr,selectSeries:gr,wrapSync:p};t["default"]=fi;t.apply=r;t.applyEach=yt;t.applyEachSeries=Et;t.asyncify=p;t.auto=It;t.autoInject=Rn;t.cargo=Ln;t.compose=Nn;t.concat=zn;t.concatLimit=Un;t.concatSeries=Gn;t.constant=Vn;t.detect=Hn;t.detectLimit=$n;t.detectSeries=Yn;t.dir=Xn;t.doDuring=Jn;t.doUntil=er;t.doWhilst=Zn;t.during=tr;t.each=rr;t.eachLimit=ir;t.eachOf=ht;t.eachOfLimit=ft;t.eachOfSeries=Mn;t.eachSeries=or;t.ensureAsync=sr;t.every=ur;t.everyLimit=cr;t.everySeries=fr;t.filter=vr;t.filterLimit=mr;t.filterSeries=gr;t.forever=yr;t.groupBy=_r;t.groupByLimit=br;t.groupBySeries=wr;t.log=Er;t.map=gt;t.mapLimit=_t;t.mapSeries=wt;t.mapValues=xr;t.mapValuesLimit=Sr;t.mapValuesSeries=Or;t.memoize=Ar;t.nextTick=kr;t.parallel=Ir;t.parallelLimit=Pr;t.priorityQueue=Lr;t.queue=Dr;t.race=Mr;t.reduce=Bn;t.reduceRight=Br;t.reflect=jr;t.reflectAll=Nr;t.reject=Ur;t.rejectLimit=zr;t.rejectSeries=Gr;t.retry=Kr;t.retryable=qr;t.seq=jn;t.series=Wr;t.setImmediate=l;t.some=Hr;t.someLimit=$r;t.someSeries=Yr;t.sortBy=Qr;t.timeout=Xr;t.times=ni;t.timesLimit=ti;t.timesSeries=ri;t.transform=ii;t.tryEach=oi;t.unmemoize=si;t.until=ui;t.waterfall=ci;t.whilst=ai;t.all=ur;t.allLimit=cr;t.allSeries=fr;t.any=Hr;t.anyLimit=$r;t.anySeries=Yr;t.find=Hn;t.findLimit=$n;t.findSeries=Yn;t.forEach=rr;t.forEachSeries=or;t.forEachLimit=ir;t.forEachOf=ht;t.forEachOfSeries=Mn;t.forEachOfLimit=ft;t.inject=Bn;t.foldl=Bn;t.foldr=Br;t.select=vr;t.selectLimit=mr;t.selectSeries=gr;t.wrapSync=p;Object.defineProperty(t,"__esModule",{value:true})}))}).call(this,n(86)(e))},,,function(e,t,n){"use strict";const r=n(7);const i=n(31);const o=n(35);const s=n(36);const a=n(90);o.setDriverType("libusb");window.electron=r;window.usbDetect=i;window.HID=o;window.Avrgirl=s;window.version="v"+a.version;window.addEventListener("DOMContentLoaded",e=>{console.log("HID Devices",o.devices());console.log("USB Detect",i.version);s.list((function(e,t){console.log("COM Ports",t)}))});window.addEventListener("beforeunload",e=>{r.remote.globalShortcut.unregisterAll()});window.addEventListener("keydown",e=>{if(e.code==="KeyD"&&e.ctrlKey===true){window.electron.remote.getCurrentWindow().openDevTools({mode:"undocked"})}})},function(e,t,n){var r=n(32);function i(e){return typeof e==="function"}if(global[r.name]&&global[r.name].version===r.version){e.exports=global[r.name]}else{var o=n(1)("detection.node");var s=n(34).EventEmitter2;var a=new s({wildcard:true,delimiter:":",maxListeners:1e3});a.find=function(e,t,n){if(i(e)&&!t&&!n){n=e;e=undefined}else if(i(t)&&!n){n=t;t=undefined}return new Promise((function(r,i){var s=[];if(e){s=s.concat(e)}if(t){s=s.concat(t)}s=s.concat((function(e,t){if(n){n.call(n,e,t)}if(e){i(e);return}r(t)}));o.find.apply(o,s)}))};o.registerAdded((function(e){a.emit("add:"+e.vendorId+":"+e.productId,e);a.emit("insert:"+e.vendorId+":"+e.productId,e);a.emit("add:"+e.vendorId,e);a.emit("insert:"+e.vendorId,e);a.emit("add",e);a.emit("insert",e);a.emit("change:"+e.vendorId+":"+e.productId,e);a.emit("change:"+e.vendorId,e);a.emit("change",e)}));o.registerRemoved((function(e){a.emit("remove:"+e.vendorId+":"+e.productId,e);a.emit("remove:"+e.vendorId,e);a.emit("remove",e);a.emit("change:"+e.vendorId+":"+e.productId,e);a.emit("change:"+e.vendorId,e);a.emit("change",e)}));var u=false;a.startMonitoring=function(){if(u){return}u=true;o.startMonitoring()};a.stopMonitoring=function(){if(!u){return}u=false;o.stopMonitoring()};a.version=r.version;global[r.name]=a;e.exports=a}},function(e){e.exports=JSON.parse('{"_from":"usb-detection","_id":"usb-detection@4.10.0","_inBundle":false,"_integrity":"sha512-YUzVWXwfSviE2pInXCKYXhR5heY9GUzlWsdZYxb/Br1Xela6P31A0KDHm7XW0Wsku1HwrokZx+/OD8cZSPHR3w==","_location":"/usb-detection","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"usb-detection","name":"usb-detection","escapedName":"usb-detection","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.npmjs.org/usb-detection/-/usb-detection-4.10.0.tgz","_shasum":"0f8a3b8965a5e4e7fbee1667971ca97e455ed11f","_spec":"usb-detection","_where":"D:\\\\Work\\\\ElectronJS\\\\NewTACT","bugs":{"url":"https://github.com/MadLittleMods/node-usb-detection/issues"},"bundleDependencies":false,"dependencies":{"bindings":"^1.3.0","eventemitter2":"^5.0.1","nan":"^2.13.2","prebuild-install":"^5.3.5"},"deprecated":false,"description":"Listen to USB devices and detect changes on them.","devDependencies":{"chai":"^4.1.2","chalk":"^2.4.1","eslint":"^4.19.1","jasmine":"^3.1.0","node-abi":"^2.18.0","node-gyp":"^6.1.0","prebuild":"^10.0.0"},"engines":{"node":">=4"},"gypfile":true,"homepage":"https://github.com/MadLittleMods/node-usb-detection","keywords":["usb","device","hardware","list","insert","add","remove","change","plug","unplug","notification"],"license":{"type":"MIT","url":"https://raw.github.com/MadLittleMods/node-usb-detection/master/licence"},"main":"index.js","name":"usb-detection","repository":{"type":"git","url":"git://github.com/MadLittleMods/node-usb-detection.git"},"scripts":{"install":"prebuild-install || node-gyp rebuild","lint":"eslint **/*.js","prebuild":"prebuild --all --strip --verbose","prepublishOnly":"npm run validate","rebuild":"node-gyp rebuild","test":"jasmine ./test/test.js","validate":"npm run lint && npm test"},"types":"index.d.ts","version":"4.10.0"}')},function(e,t,n){var r=n(6).sep||"/";e.exports=i;function i(e){if("string"!=typeof e||e.length<=7||"file://"!=e.substring(0,7)){throw new TypeError("must pass in a file:// URI to convert to a file path")}var t=decodeURI(e.substring(7));var n=t.indexOf("/");var i=t.substring(0,n);var o=t.substring(n+1);if("localhost"==i)i="";if(i){i=r+r+i}o=o.replace(/^(.+)\|/,"$1:");if(r=="\\"){o=o.replace(/\//g,"\\")}if(/^.+\:/.test(o)){}else{o=r+o}return i+o}},function(e,t,n){var r;!function(i){var o=Array.isArray?Array.isArray:function e(t){return Object.prototype.toString.call(t)==="[object Array]"};var s=10;function a(){this._events={};if(this._conf){u.call(this,this._conf)}}function u(e){if(e){this._conf=e;e.delimiter&&(this.delimiter=e.delimiter);this._maxListeners=e.maxListeners!==i?e.maxListeners:s;e.wildcard&&(this.wildcard=e.wildcard);e.newListener&&(this._newListener=e.newListener);e.removeListener&&(this._removeListener=e.removeListener);e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak);if(this.wildcard){this.listenerTree={}}}else{this._maxListeners=s}}function c(e,t){var n="(node) warning: possible EventEmitter memory "+"leak detected. "+e+" listeners added. "+"Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak){n+=" Event name: "+t+"."}if(typeof process!=="undefined"&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning";r.emitter=this;r.count=e;process.emitWarning(r)}else{console.error(n);if(console.trace){console.trace()}}}function f(e){this._events={};this._newListener=false;this._removeListener=false;this.verboseMemoryLeak=false;u.call(this,e)}f.EventEmitter2=f;function l(e,t,n,r){if(!n){return[]}var i=[],o,s,a,u,c,f,p,d=t.length,h=t[r],v=t[r+1];if(r===d&&n._listeners){if(typeof n._listeners==="function"){e&&e.push(n._listeners);return[n]}else{for(o=0,s=n._listeners.length;o<s;o++){e&&e.push(n._listeners[o])}return[n]}}if(h==="*"||h==="**"||n[h]){if(h==="*"){for(a in n){if(a!=="_listeners"&&n.hasOwnProperty(a)){i=i.concat(l(e,t,n[a],r+1))}}return i}else if(h==="**"){p=r+1===d||r+2===d&&v==="*";if(p&&n._listeners){i=i.concat(l(e,t,n,d))}for(a in n){if(a!=="_listeners"&&n.hasOwnProperty(a)){if(a==="*"||a==="**"){if(n[a]._listeners&&!p){i=i.concat(l(e,t,n[a],d))}i=i.concat(l(e,t,n[a],r))}else if(a===v){i=i.concat(l(e,t,n[a],r+2))}else{i=i.concat(l(e,t,n[a],r))}}}return i}i=i.concat(l(e,t,n[h],r+1))}u=n["*"];if(u){l(e,t,u,r+1)}c=n["**"];if(c){if(r<d){if(c._listeners){l(e,t,c,d)}for(a in c){if(a!=="_listeners"&&c.hasOwnProperty(a)){if(a===v){l(e,t,c[a],r+2)}else if(a===h){l(e,t,c[a],r+1)}else{f={};f[a]=c[a];l(e,t,{"**":f},r+1)}}}}else if(c._listeners){l(e,t,c,d)}else if(c["*"]&&c["*"]._listeners){l(e,t,c["*"],d)}}return i}function p(e,t){e=typeof e==="string"?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;n+1<r;n++){if(e[n]==="**"&&e[n+1]==="**"){return}}var o=this.listenerTree;var s=e.shift();while(s!==i){if(!o[s]){o[s]={}}o=o[s];if(e.length===0){if(!o._listeners){o._listeners=t}else{if(typeof o._listeners==="function"){o._listeners=[o._listeners]}o._listeners.push(t);if(!o._listeners.warned&&this._maxListeners>0&&o._listeners.length>this._maxListeners){o._listeners.warned=true;c.call(this,o._listeners.length,s)}}return true}s=e.shift()}return true}f.prototype.delimiter=".";f.prototype.setMaxListeners=function(e){if(e!==i){this._maxListeners=e;if(!this._conf)this._conf={};this._conf.maxListeners=e}};f.prototype.event="";f.prototype.once=function(e,t){return this._once(e,t,false)};f.prototype.prependOnceListener=function(e,t){return this._once(e,t,true)};f.prototype._once=function(e,t,n){this._many(e,1,t,n);return this};f.prototype.many=function(e,t,n){return this._many(e,t,n,false)};f.prototype.prependMany=function(e,t,n){return this._many(e,t,n,true)};f.prototype._many=function(e,t,n,r){var i=this;if(typeof n!=="function"){throw new Error("many only accepts instances of Function")}function o(){if(--t===0){i.off(e,o)}return n.apply(this,arguments)}o._origin=n;this._on(e,o,r);return i};f.prototype.emit=function(){this._events||a.call(this);var e=arguments[0];if(e==="newListener"&&!this._newListener){if(!this._events.newListener){return false}}var t=arguments.length;var n,r,i,o;var s;if(this._all&&this._all.length){s=this._all.slice();if(t>3){n=new Array(t);for(o=0;o<t;o++)n[o]=arguments[o]}for(i=0,r=s.length;i<r;i++){this.event=e;switch(t){case 1:s[i].call(this,e);break;case 2:s[i].call(this,e,arguments[1]);break;case 3:s[i].call(this,e,arguments[1],arguments[2]);break;default:s[i].apply(this,n)}}}if(this.wildcard){s=[];var u=typeof e==="string"?e.split(this.delimiter):e.slice();l.call(this,s,u,this.listenerTree,0)}else{s=this._events[e];if(typeof s==="function"){this.event=e;switch(t){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:n=new Array(t-1);for(o=1;o<t;o++)n[o-1]=arguments[o];s.apply(this,n)}return true}else if(s){s=s.slice()}}if(s&&s.length){if(t>3){n=new Array(t-1);for(o=1;o<t;o++)n[o-1]=arguments[o]}for(i=0,r=s.length;i<r;i++){this.event=e;switch(t){case 1:s[i].call(this);break;case 2:s[i].call(this,arguments[1]);break;case 3:s[i].call(this,arguments[1],arguments[2]);break;default:s[i].apply(this,n)}}return true}else if(!this._all&&e==="error"){if(arguments[1]instanceof Error){throw arguments[1]}else{throw new Error("Uncaught, unspecified 'error' event.")}return false}return!!this._all};f.prototype.emitAsync=function(){this._events||a.call(this);var e=arguments[0];if(e==="newListener"&&!this._newListener){if(!this._events.newListener){return Promise.resolve([false])}}var t=[];var n=arguments.length;var r,i,o,s;var u;if(this._all){if(n>3){r=new Array(n);for(s=1;s<n;s++)r[s]=arguments[s]}for(o=0,i=this._all.length;o<i;o++){this.event=e;switch(n){case 1:t.push(this._all[o].call(this,e));break;case 2:t.push(this._all[o].call(this,e,arguments[1]));break;case 3:t.push(this._all[o].call(this,e,arguments[1],arguments[2]));break;default:t.push(this._all[o].apply(this,r))}}}if(this.wildcard){u=[];var c=typeof e==="string"?e.split(this.delimiter):e.slice();l.call(this,u,c,this.listenerTree,0)}else{u=this._events[e]}if(typeof u==="function"){this.event=e;switch(n){case 1:t.push(u.call(this));break;case 2:t.push(u.call(this,arguments[1]));break;case 3:t.push(u.call(this,arguments[1],arguments[2]));break;default:r=new Array(n-1);for(s=1;s<n;s++)r[s-1]=arguments[s];t.push(u.apply(this,r))}}else if(u&&u.length){u=u.slice();if(n>3){r=new Array(n-1);for(s=1;s<n;s++)r[s-1]=arguments[s]}for(o=0,i=u.length;o<i;o++){this.event=e;switch(n){case 1:t.push(u[o].call(this));break;case 2:t.push(u[o].call(this,arguments[1]));break;case 3:t.push(u[o].call(this,arguments[1],arguments[2]));break;default:t.push(u[o].apply(this,r))}}}else if(!this._all&&e==="error"){if(arguments[1]instanceof Error){return Promise.reject(arguments[1])}else{return Promise.reject("Uncaught, unspecified 'error' event.")}}return Promise.all(t)};f.prototype.on=function(e,t){return this._on(e,t,false)};f.prototype.prependListener=function(e,t){return this._on(e,t,true)};f.prototype.onAny=function(e){return this._onAny(e,false)};f.prototype.prependAny=function(e){return this._onAny(e,true)};f.prototype.addListener=f.prototype.on;f.prototype._onAny=function(e,t){if(typeof e!=="function"){throw new Error("onAny only accepts instances of Function")}if(!this._all){this._all=[]}if(t){this._all.unshift(e)}else{this._all.push(e)}return this};f.prototype._on=function(e,t,n){if(typeof e==="function"){this._onAny(e,t);return this}if(typeof t!=="function"){throw new Error("on only accepts instances of Function")}this._events||a.call(this);if(this._newListener)this.emit("newListener",e,t);if(this.wildcard){p.call(this,e,t);return this}if(!this._events[e]){this._events[e]=t}else{if(typeof this._events[e]==="function"){this._events[e]=[this._events[e]]}if(n){this._events[e].unshift(t)}else{this._events[e].push(t)}if(!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners){this._events[e].warned=true;c.call(this,this._events[e].length,e)}}return this};f.prototype.off=function(e,t){if(typeof t!=="function"){throw new Error("removeListener only takes instances of Function")}var n,r=[];if(this.wildcard){var s=typeof e==="string"?e.split(this.delimiter):e.slice();r=l.call(this,null,s,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e];r.push({_listeners:n})}for(var a=0;a<r.length;a++){var u=r[a];n=u._listeners;if(o(n)){var c=-1;for(var f=0,p=n.length;f<p;f++){if(n[f]===t||n[f].listener&&n[f].listener===t||n[f]._origin&&n[f]._origin===t){c=f;break}}if(c<0){continue}if(this.wildcard){u._listeners.splice(c,1)}else{this._events[e].splice(c,1)}if(n.length===0){if(this.wildcard){delete u._listeners}else{delete this._events[e]}}if(this._removeListener)this.emit("removeListener",e,t);return this}else if(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t){if(this.wildcard){delete u._listeners}else{delete this._events[e]}if(this._removeListener)this.emit("removeListener",e,t)}}function d(e){if(e===i){return}var t=Object.keys(e);for(var n in t){var r=t[n];var o=e[r];if(o instanceof Function||typeof o!=="object"||o===null)continue;if(Object.keys(o).length>0){d(e[r])}if(Object.keys(o).length===0){delete e[r]}}}d(this.listenerTree);return this};f.prototype.offAny=function(e){var t=0,n=0,r;if(e&&this._all&&this._all.length>0){r=this._all;for(t=0,n=r.length;t<n;t++){if(e===r[t]){r.splice(t,1);if(this._removeListener)this.emit("removeListenerAny",e);return this}}}else{r=this._all;if(this._removeListener){for(t=0,n=r.length;t<n;t++)this.emit("removeListenerAny",r[t])}this._all=[]}return this};f.prototype.removeListener=f.prototype.off;f.prototype.removeAllListeners=function(e){if(e===i){!this._events||a.call(this);return this}if(this.wildcard){var t=typeof e==="string"?e.split(this.delimiter):e.slice();var n=l.call(this,null,t,this.listenerTree,0);for(var r=0;r<n.length;r++){var o=n[r];o._listeners=null}}else if(this._events){this._events[e]=null}return this};f.prototype.listeners=function(e){if(this.wildcard){var t=[];var n=typeof e==="string"?e.split(this.delimiter):e.slice();l.call(this,t,n,this.listenerTree,0);return t}this._events||a.call(this);if(!this._events[e])this._events[e]=[];if(!o(this._events[e])){this._events[e]=[this._events[e]]}return this._events[e]};f.prototype.eventNames=function(){return Object.keys(this._events)};f.prototype.listenerCount=function(e){return this.listeners(e).length};f.prototype.listenersAny=function(){if(this._all){return this._all}else{return[]}};if(true){!(r=function(){return f}.call(t,n,t,e),r!==i&&(e.exports=r))}else{}}()},function(e,t,n){var r=n(4);var i=n(8).EventEmitter,o=n(0);var s=null;function a(e){s=e}var u=null;function c(){if(!u){if(r.platform()==="linux"){if(!s||s==="hidraw"){u=n(1)("HID-hidraw.node")}else{u=n(1)("HID.node")}}else{u=n(1)("HID.node")}}}function f(){i.call(this);c();var e=new Array(arguments.length+1);e[0]=null;for(var t=0;t<arguments.length;t++)e[t+1]=arguments[t];this._raw=new(Function.prototype.bind.apply(u.HID,e));for(var t in u.HID.prototype)if(t!="close"&&t!="read")this[t]=u.HID.prototype[t].bind(this._raw);this._paused=true;var n=this;n.on("newListener",(function(e,t){if(e=="data")process.nextTick(n.resume.bind(n))}))}o.inherits(f,i);f.prototype.close=function e(){this._closing=true;this.removeAllListeners();this._raw.close();this._closed=true};f.prototype.pause=function e(){this._paused=true};f.prototype.read=function e(t){if(this._closed){throw new Error("Unable to read from a closed HID device")}else{return this._raw.read(t)}};f.prototype.resume=function e(){var t=this;if(t._paused&&t.listeners("data").length>0){t._paused=false;t.read((function e(n,r){if(n){t._paused=true;if(!t._closing)t.emit("error",n)}else{if(t.listeners("data").length<=0)t._paused=true;if(!t._paused)t.read(e);t.emit("data",r)}}))}};function l(){c();return u.devices.apply(f,arguments)}t.HID=f;t.devices=l;t.setDriverType=a},function(e,t,n){var r=n(37);var i=n(38);var o=n(61);var s=n(89);e.exports=s(r,i,o)},function(e,t){var n=[{name:"uno",baud:115200,signature:Buffer.from([30,149,15]),pageSize:128,numPages:256,timeout:400,productId:["0x0043","0x7523","0x0001","0xea60","0x6015"],productPage:"https://store.arduino.cc/arduino-uno-rev3",protocol:"stk500v1"},{name:"micro",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x0037","0x8037","0x0036","0x0237"],productPage:"https://store.arduino.cc/arduino-micro",protocol:"avr109"},{name:"imuduino",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x0036","0x8037","0x8036"],productPage:"https://www.kickstarter.com/projects/1265095814/imuduino-wireless-3d-motion-html-js-apps-arduino-p?lang=de",protocol:"avr109"},{name:"leonardo",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x0036","0x8036","0x800c"],productPage:"https://store.arduino.cc/leonardo",protocol:"avr109"},{name:"arduboy",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x0036","0x8036","0x800c"],productPage:"https://arduboy.com/",protocol:"avr109"},{name:"feather",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x800c","0x000c"],productPage:"https://www.adafruit.com/feather",protocol:"avr109"},{name:"little-bits",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x0036","0x8036"],productPage:"https://littlebits.com/collections/bits-and-accessories/products/arduino-bit",protocol:"avr109"},{name:"blend-micro",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x2404"],productPage:"https://redbear.cc/product/retired/blend-micro.html",protocol:"avr109"},{name:"nano",baud:57600,signature:Buffer.from([30,149,15]),pageSize:128,numPages:256,timeout:400,productId:["0x6001","0x7523"],productPage:"https://web.archive.org/web/20150813095112/https://www.arduino.cc/en/Main/ArduinoBoardNano",protocol:"stk500v1"},{name:"nano (new bootloader)",baud:115200,signature:Buffer.from([30,149,15]),pageSize:128,numPages:256,timeout:400,productId:["0x6001","0x7523"],productPage:"https://store.arduino.cc/arduino-nano",protocol:"stk500v1"},{name:"duemilanove168",baud:19200,signature:Buffer.from([30,148,6]),pageSize:128,numPages:128,timeout:400,productId:["0x6001"],productPage:"https://www.arduino.cc/en/Main/arduinoBoardDuemilanove",protocol:"stk500v1"},{name:"duemilanove328",baud:57600,signature:Buffer.from([30,149,20]),pageSize:128,numPages:256,timeout:400,productId:["0x6001"],productPage:"https://www.arduino.cc/en/Main/arduinoBoardDuemilanove",protocol:"stk500v1"},{name:"tinyduino",baud:57600,signature:Buffer.from([30,149,15]),pageSize:128,numPages:256,timeout:400,productId:["0x6015"],productPage:"https://tinycircuits.com/pages/tinyduino-overview",protocol:"stk500v1",aliases:["tinduino"]},{name:"mega",baud:115200,signature:Buffer.from([30,152,1]),pageSize:256,delay1:10,delay2:1,timeout:200,stabDelay:100,cmdexeDelay:25,synchLoops:32,byteDelay:0,pollValue:83,pollIndex:3,productId:["0x0042","0x6001","0x0010","0x7523"],productPage:"https://store.arduino.cc/mega-2560-r3",protocol:"stk500v2"},{name:"adk",baud:115200,signature:Buffer.from([30,152,1]),pageSize:256,delay1:10,delay2:1,timeout:200,stabDelay:100,cmdexeDelay:25,synchLoops:32,byteDelay:0,pollValue:83,pollIndex:3,productId:["0x0044","0x6001","0x003F"],productPage:"https://store.arduino.cc/arduino-mega-adk-rev3",protocol:"stk500v2"},{name:"sf-pro-micro",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x9206","0x9205","0x0036"],productPage:"https://www.sparkfun.com/products/12640",protocol:"avr109"},{name:"pro-mini",baud:57600,signature:Buffer.from([30,149,15]),pageSize:128,numPages:256,timeout:400,productPage:"https://store.arduino.cc/arduino-pro-mini",protocol:"stk500v1"},{name:"qduino",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x516d","0x514d"],productPage:"https://www.sparkfun.com/products/13614",protocol:"avr109"},{name:"pinoccio",baud:115200,signature:Buffer.from([30,168,2]),pageSize:256,delay1:10,delay2:1,timeout:200,stabDelay:100,cmdexeDelay:25,synchLoops:32,byteDelay:0,pollValue:83,pollIndex:3,productId:["0x6051"],productPage:"https://www.mouser.de/new/crowd-supply/crowd-supply-pinoccio-microcontroller/",protocol:"stk500v2"},{name:"lilypad-usb",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x9207","0x9208","0x1B4F"],productPage:"https://www.sparkfun.com/products/12049",protocol:"avr109"},{name:"yun",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x0041","0x8041"],productPage:"https://store.arduino.cc/arduino-yun",protocol:"avr109"},{name:"esplora",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x003C","0x803C"],productPage:"https://store.arduino.cc/arduino-esplora",protocol:"avr109"},{name:"circuit-playground-classic",baud:57600,signature:Buffer.from([67,65,84,69,82,73,78]),productId:["0x0011","0x8011"],productPage:"https://www.adafruit.com/product/3000",protocol:"avr109"},{name:"zumjunior",baud:115200,signature:Buffer.from([30,149,15]),pageSize:128,numPages:256,timeout:400,productId:["0xEA60"],productPage:"https://store-de.bq.com/de/zum-kit-junior",protocol:"stk500v1"},{name:"zumcore2",baud:115200,signature:Buffer.from([30,149,15]),pageSize:128,numPages:256,timeout:400,productId:["0xEA60"],productPage:"https://www.bq.com/de/zum-core-2-0",protocol:"stk500v1"},{name:"bqZum",baud:19200,signature:Buffer.from([30,149,15]),pageSize:128,numPages:256,timeout:400,productId:["0x6001","0x7523"],productPage:"http://diwo.bq.com/zum-bt-328-especificaciones-tecnicas/",protocol:"stk500v1"},{name:"xprov4",baud:115200,signature:Buffer.from([30,149,22]),pageSize:128,numPages:256,timeout:400,productId:["0x0043","0x7523","0x0001","0xea60"],productPage:"http://www.spark-concepts.com/cnc-xpro-v4-controller/",protocol:"stk500v1"}];function r(){var e={};for(var t=0;t<n.length;t++){var r=n[t];e[r.name]=r;var i=r.aliases;if(Array.isArray(i)){for(var o=0;o<i.length;o++){var s=i[o];e[s]=r}}}return e}e.exports=r()},function(e,t,n){var r=n(16);var i=n(58);var o=function(e){this.options=e;this.debug=this.options.debug;this.board=this.options.board};o.prototype._init=function(e){var t=this;if(!t.options.port){t._sniffPort((function(n,r){if(r.length){t.options.port=r[0].path;t.debug("found "+t.options.board.name+" on port "+t.options.port);t._setUpSerial((function(t){return e(t)}))}else{return e(new Error("no Arduino "+"'"+t.options.board.name+"'"+" found."))}}))}else{t._setUpSerial((function(t){return e(t)}))}};o.prototype._setUpSerial=function(e){this.serialPort=new r(this.options.port,{baudRate:this.board.baud,autoOpen:false});return e(null)};o.prototype._sniffPort=function(e){var t=this;var n=t.board.productId.map((function(e){return parseInt(e,16)}));t._listPorts((function(t,r){var i=r.filter((function(e){return n.indexOf(parseInt(e._standardPid,16))!==-1}));return e(null,i)}))};o.prototype._setDTR=function(e,t,n){var r=this;var i={rts:e,dtr:e};r.serialPort.set(i,(function(e){if(e){return n(e)}setTimeout((function(){n(e)}),t)}))};o.prototype._pollForPort=function(e){var t=this;var n=i((function(e){var n=false;t._sniffPort((function(r,i){if(i.length){t.options.port=i[0].path;n=true}e(n)}))}));n.every(100).ask(15);n((function(n){if(n){t.debug("found port on",t.options.port);t._setUpSerial((function(t){return e(t)}))}else{return e(new Error("could not reconnect after resetting board."))}}))};o.prototype._pollForOpen=function(e){var t=this;var n=i((function(e){t.serialPort.open((function(t){e(!t)}))}));n.every(200).ask(10);n((function(n){var r;if(!n){r=new Error("could not open board on "+t.serialPort.path)}e(r)}))};o.prototype._listPorts=function(e){var t=[];r.list().then((function(n){for(var r=0;r<n.length;r+=1){var i;if(n[r].productId){i=n[r].productId}else if(n[r].pnpId){try{i="0x"+/PID_\d*/.exec(n[r].pnpId)[0].substr(4)}catch(e){i=""}}else{i=""}n[r]._standardPid=i;t.push(n[r])}if(e)return e(null,t)})).catch((function(t){if(e)return e(t)}))};e.exports=o},function(e,t,n){const r=n(2);const i=n(0);const o=n(5)("serialport/stream");const s=Object.freeze([5,6,7,8]);const a=Object.freeze([1,1.5,2]);const u=Object.freeze(["none","even","mark","odd","space"]);const c=Object.freeze(["xon","xoff","xany","rtscts"]);const f=Object.freeze({autoOpen:true,endOnClose:false,baudRate:9600,dataBits:8,hupcl:true,lock:true,parity:"none",rtscts:false,stopBits:1,xany:false,xoff:false,xon:false,highWaterMark:64*1024});const l=Object.freeze({brk:false,cts:false,dtr:true,dts:false,rts:true});function p(e){const t=Buffer.allocUnsafe(e);t.used=0;return t}function d(e,t,n){if(!(this instanceof d)){return new d(e,t,n)}if(t instanceof Function){n=t;t={}}const i={...f,...t};r.Duplex.call(this,{highWaterMark:i.highWaterMark});const o=i.binding||d.Binding;if(!o){throw new TypeError('"Bindings" is invalid pass it as `options.binding` or set it on `SerialPort.Binding`')}if(!e){throw new TypeError(`"path" is not defined: ${e}`)}if(i.baudrate){throw new TypeError(`"baudrate" is an unknown option, did you mean "baudRate"?`)}if(typeof i.baudRate!=="number"){throw new TypeError(`"baudRate" must be a number: ${i.baudRate}`)}if(s.indexOf(i.dataBits)===-1){throw new TypeError(`"databits" is invalid: ${i.dataBits}`)}if(a.indexOf(i.stopBits)===-1){throw new TypeError(`"stopbits" is invalid: ${i.stopbits}`)}if(u.indexOf(i.parity)===-1){throw new TypeError(`"parity" is invalid: ${i.parity}`)}c.forEach(e=>{if(typeof i[e]!=="boolean"){throw new TypeError(`"${e}" is not boolean: ${i[e]}`)}});const l=new o({bindingOptions:i.bindingOptions});Object.defineProperties(this,{binding:{enumerable:true,value:l},path:{enumerable:true,value:e},settings:{enumerable:true,value:i}});this.opening=false;this.closing=false;this._pool=p(this.settings.highWaterMark);this._kMinPoolSpace=128;if(this.settings.autoOpen){this.open(n)}}i.inherits(d,r.Duplex);Object.defineProperties(d.prototype,{isOpen:{enumerable:true,get(){return this.binding.isOpen&&!this.closing}},baudRate:{enumerable:true,get(){return this.settings.baudRate}}});d.prototype._error=function(e,t){if(t){t.call(this,e)}else{this.emit("error",e)}};d.prototype._asyncError=function(e,t){process.nextTick(()=>this._error(e,t))};d.prototype.open=function(e){if(this.isOpen){return this._asyncError(new Error("Port is already open"),e)}if(this.opening){return this._asyncError(new Error("Port is opening"),e)}this.opening=true;o("opening",`path: ${this.path}`);this.binding.open(this.path,this.settings).then(()=>{o("opened",`path: ${this.path}`);this.opening=false;this.emit("open");if(e){e.call(this,null)}},t=>{this.opening=false;o("Binding #open had an error",t);this._error(t,e)})};d.prototype.update=function(e,t){if(typeof e!=="object"){throw TypeError('"options" is not an object')}if(!this.isOpen){o("update attempted, but port is not open");return this._asyncError(new Error("Port is not open"),t)}const n={...f,...e};this.settings.baudRate=n.baudRate;o("update",`baudRate: ${n.baudRate}`);this.binding.update(this.settings).then(()=>{o("binding.update","finished");if(t){t.call(this,null)}},e=>{o("binding.update","error",e);return this._error(e,t)})};const h=d.prototype.write;d.prototype.write=function(e,t,n){if(Array.isArray(e)){e=Buffer.from(e)}return h.call(this,e,t,n)};d.prototype._write=function(e,t,n){if(!this.isOpen){return this.once("open",(function r(){this._write(e,t,n)}))}o("_write",`${e.length} bytes of data`);this.binding.write(e).then(()=>{o("binding.write","write finished");n(null)},e=>{o("binding.write","error",e);if(!e.canceled){this._disconnected(e)}n(e)})};d.prototype._writev=function(e,t){o("_writev",`${e.length} chunks of data`);const n=e.map(e=>e.chunk);this._write(Buffer.concat(n),null,t)};d.prototype._read=function(e){if(!this.isOpen){o("_read","queueing _read for after open");this.once("open",()=>{this._read(e)});return}if(!this._pool||this._pool.length-this._pool.used<this._kMinPoolSpace){o("_read","discarding the read buffer pool because it is below kMinPoolSpace");this._pool=p(this.settings.highWaterMark)}const t=this._pool;const n=Math.min(t.length-t.used,e);const r=t.used;o("_read",`reading`,{start:r,toRead:n});this.binding.read(t,r,n).then(({bytesRead:e})=>{o("binding.read",`finished`,{bytesRead:e});if(e===0){o("binding.read","Zero bytes read closing readable stream");this.push(null);return}t.used+=e;this.push(t.slice(r,r+e))},t=>{o("binding.read",`error`,t);if(!t.canceled){this._disconnected(t)}this._read(e)})};d.prototype._disconnected=function(e){if(!this.isOpen){o("disconnected aborted because already closed",e);return}o("disconnected",e);e.disconnected=true;this.close(null,e)};d.prototype.close=function(e,t){t=t||null;if(!this.isOpen){o("close attempted, but port is not open");return this._asyncError(new Error("Port is not open"),e)}this.closing=true;o("#close");this.binding.close().then(()=>{this.closing=false;o("binding.close","finished");this.emit("close",t);if(this.settings.endOnClose){this.emit("end")}if(e){e.call(this,t)}},t=>{this.closing=false;o("binding.close","had an error",t);return this._error(t,e)})};d.prototype.set=function(e,t){if(typeof e!=="object"){throw TypeError('"options" is not an object')}if(!this.isOpen){o("set attempted, but port is not open");return this._asyncError(new Error("Port is not open"),t)}const n={...l,...e};o("#set",n);this.binding.set(n).then(()=>{o("binding.set","finished");if(t){t.call(this,null)}},e=>{o("binding.set","had an error",e);return this._error(e,t)})};d.prototype.get=function(e){if(!this.isOpen){o("get attempted, but port is not open");return this._asyncError(new Error("Port is not open"),e)}o("#get");this.binding.get().then(t=>{o("binding.get","finished");if(e){e.call(this,null,t)}},t=>{o("binding.get","had an error",t);return this._error(t,e)})};d.prototype.flush=function(e){if(!this.isOpen){o("flush attempted, but port is not open");return this._asyncError(new Error("Port is not open"),e)}o("#flush");this.binding.flush().then(()=>{o("binding.flush","finished");if(e){e.call(this,null)}},t=>{o("binding.flush","had an error",t);return this._error(t,e)})};d.prototype.drain=function(e){o("drain");if(!this.isOpen){o("drain queuing on port open");return this.once("open",()=>{this.drain(e)})}this.binding.drain().then(()=>{o("binding.drain","finished");if(e){e.call(this,null)}},t=>{o("binding.drain","had an error",t);return this._error(t,e)})};d.list=async function(e){o(".list");if(!d.Binding){throw new TypeError("No Binding set on `SerialPort.Binding`")}if(e){throw new TypeError("SerialPort.list no longer takes a callback and only returns a promise")}return d.Binding.list()};e.exports=d},function(e,t,n){t.log=o;t.formatArgs=i;t.save=s;t.load=a;t.useColors=r;t.storage=u();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0;let i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{if(e==="%%"){return}r++;if(e==="%c"){i=r}});t.splice(i,0,n)}function o(...e){return typeof console==="object"&&console.log&&console.log(...e)}function s(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function a(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function u(){try{return localStorage}catch(e){}}e.exports=n(17)(t);const{formatters:c}=e.exports;c.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var n=1e3;var r=n*60;var i=r*60;var o=i*24;var s=o*7;var a=o*365.25;e.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0){return u(e)}else if(n==="number"&&isFinite(e)){return t.long?f(e):c(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function u(e){e=String(e);if(e.length>100){return}var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t){return}var u=parseFloat(t[1]);var c=(t[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*o;case"hours":case"hour":case"hrs":case"hr":case"h":return u*i;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return undefined}}function c(e){var t=Math.abs(e);if(t>=o){return Math.round(e/o)+"d"}if(t>=i){return Math.round(e/i)+"h"}if(t>=r){return Math.round(e/r)+"m"}if(t>=n){return Math.round(e/n)+"s"}return e+"ms"}function f(e){var t=Math.abs(e);if(t>=o){return l(e,t,o,"day")}if(t>=i){return l(e,t,i,"hour")}if(t>=r){return l(e,t,r,"minute")}if(t>=n){return l(e,t,n,"second")}return e+" ms"}function l(e,t,n,r){var i=t>=n*1.5;return Math.round(e/n)+" "+r+(i?"s":"")}},function(e,t,n){const r=n(43);const i=n(0);t.init=l;t.log=u;t.formatArgs=s;t.save=c;t.load=f;t.useColors=o;t.colors=[6,2,3,4,5,1];try{const e=n(44);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];if(/^(yes|on|true|enabled)$/i.test(r)){r=true}else if(/^(no|off|false|disabled)$/i.test(r)){r=false}else if(r==="null"){r=null}else{r=Number(r)}e[n]=r;return e},{});function o(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)}function s(t){const{namespace:n,useColors:r}=this;if(r){const r=this.color;const i="[3"+(r<8?r:"8;5;"+r);const o=`  ${i};1m${n} [0m`;t[0]=o+t[0].split("\n").join("\n"+o);t.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=a()+n+" "+t[0]}}function a(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function u(...e){return process.stderr.write(i.format(...e)+"\n")}function c(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function f(){return process.env.DEBUG}function l(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++){e.inspectOpts[n[r]]=t.inspectOpts[n[r]]}}e.exports=n(17)(t);const{formatters:p}=e.exports;p.o=function(e){this.inspectOpts.colors=this.useColors;return i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};p.O=function(e){this.inspectOpts.colors=this.useColors;return i.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";const r=n(4);const i=n(45);const o=process.env;let s;if(i("no-color")||i("no-colors")||i("color=false")){s=false}else if(i("color")||i("colors")||i("color=true")||i("color=always")){s=true}if("FORCE_COLOR"in o){s=o.FORCE_COLOR.length===0||parseInt(o.FORCE_COLOR,10)!==0}function a(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function u(e){if(s===false){return 0}if(i("color=16m")||i("color=full")||i("color=truecolor")){return 3}if(i("color=256")){return 2}if(e&&!e.isTTY&&s!==true){return 0}const t=s?1:0;if(process.platform==="win32"){const e=r.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in o){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in o)||o.CI_NAME==="codeship"){return 1}return t}if("TEAMCITY_VERSION"in o){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0}if(o.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(o.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)){return 1}if("COLORTERM"in o){return 1}if(o.TERM==="dumb"){return t}return t}function c(e){const t=u(e);return a(t)}e.exports={supportsColor:c,stdout:c(process.stdout),stderr:c(process.stderr)}},function(e,t,n){"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":e.length===1?"-":"--";const r=t.indexOf(n+e);const i=t.indexOf("--");return r!==-1&&(i===-1?true:r<i)}},function(e,t,n){const r=n(5)("serialport/bindings");switch(process.platform){case"win32":r("loading WindowsBinding");e.exports=n(47);break;case"darwin":r("loading DarwinBinding");e.exports=n(49);break;default:r("loading LinuxBinding");e.exports=n(50)}},function(e,t,n){const r=n(1)("bindings.node");const i=n(9);const{promisify:o}=n(0);const s=n(48);const a=o(r.list);const u=o(r.open);const c=o(r.close);const f=o(r.read);const l=o(r.write);const p=o(r.update);const d=o(r.set);const h=o(r.get);const v=o(r.getBaudRate);const m=o(r.drain);const g=o(r.flush);const{wrapWithHiddenComName:y}=n(10);class b extends i{static async list(){const e=await a();return y(e.map(e=>{if(e.pnpId&&!e.serialNumber){const t=s(e.pnpId);if(t){return{...e,serialNumber:t}}}return e}))}constructor(e={}){super(e);this.bindingOptions={...e.bindingOptions};this.fd=null;this.writeOperation=null}get isOpen(){return this.fd!==null}async open(e,t){await super.open(e,t);this.openOptions={...this.bindingOptions,...t};const n=await u(e,this.openOptions);this.fd=n}async close(){await super.close();const e=this.fd;this.fd=null;return c(e)}async read(e,t,n){await super.read(e,t,n);try{const r=await f(this.fd,e,t,n);return{bytesRead:r,buffer:e}}catch(e){if(!this.isOpen){e.canceled=true}throw e}}async write(e){this.writeOperation=super.write(e).then(async()=>{if(e.length===0){return}await l(this.fd,e);this.writeOperation=null});return this.writeOperation}async update(e){await super.update(e);return p(this.fd,e)}async set(e){await super.set(e);return d(this.fd,e)}async get(){await super.get();return h(this.fd)}async getBaudRate(){await super.get();return v(this.fd)}async drain(){await super.drain();await this.writeOperation;return m(this.fd)}async flush(){await super.flush();return g(this.fd)}}e.exports=b},function(e,t){const n=[/USB\\(?:.+)\\(.+)/,/FTDIBUS\\(?:.+)\+(.+?)A?\\.+/];e.exports=function(e){if(!e){return null}for(const t of n){const n=e.match(t);if(n){return n[1]}}return null}},function(e,t,n){const{promisify:r}=n(0);const i=n(1)("bindings.node");const o=n(9);const s=n(18);const a=n(19);const u=n(20);const{wrapWithHiddenComName:c}=n(10);const f=Object.freeze({vmin:1,vtime:0});const l=r(i.list);const p=r(i.open);const d=r(i.close);const h=r(i.update);const v=r(i.set);const m=r(i.get);const g=r(i.getBaudRate);const y=r(i.drain);const b=r(i.flush);class _ extends o{static list(){return c(l())}constructor(e={}){super(e);this.bindingOptions={...f,...e.bindingOptions};this.fd=null;this.writeOperation=null}get isOpen(){return this.fd!==null}async open(e,t){await super.open(e,t);this.openOptions={...this.bindingOptions,...t};const n=await p(e,this.openOptions);this.fd=n;this.poller=new s(n)}async close(){await super.close();const e=this.fd;this.poller.stop();this.poller.destroy();this.poller=null;this.openOptions=null;this.fd=null;return d(e)}async read(e,t,n){await super.read(e,t,n);return a({binding:this,buffer:e,offset:t,length:n})}async write(e){this.writeOperation=super.write(e).then(async()=>{if(e.length===0){return}await u({binding:this,buffer:e});this.writeOperation=null});return this.writeOperation}async update(e){await super.update(e);return h(this.fd,e)}async set(e){await super.set(e);return v(this.fd,e)}async get(){await super.get();return m(this.fd)}async getBaudRate(){await super.get();return g(this.fd)}async drain(){await super.drain();await this.writeOperation;return y(this.fd)}async flush(){await super.flush();return b(this.fd)}}e.exports=_},function(e,t,n){const{promisify:r}=n(0);const i=n(1)("bindings.node");const o=n(9);const s=n(51);const a=n(18);const u=n(19);const c=n(20);const{wrapWithHiddenComName:f}=n(10);const l=Object.freeze({vmin:1,vtime:0});const p=r(i.open);const d=r(i.close);const h=r(i.update);const v=r(i.set);const m=r(i.get);const g=r(i.getBaudRate);const y=r(i.drain);const b=r(i.flush);class _ extends o{static list(){return f(s())}constructor(e={}){super(e);this.bindingOptions={...l,...e.bindingOptions};this.fd=null;this.writeOperation=null}get isOpen(){return this.fd!==null}async open(e,t){await super.open(e,t);this.openOptions={...this.bindingOptions,...t};const n=await p(e,this.openOptions);this.fd=n;this.poller=new a(n)}async close(){await super.close();const e=this.fd;this.poller.stop();this.poller.destroy();this.poller=null;this.openOptions=null;this.fd=null;return d(e)}async read(e,t,n){await super.read(e,t,n);return u({binding:this,buffer:e,offset:t,length:n})}async write(e){this.writeOperation=super.write(e).then(async()=>{if(e.length===0){return}await c({binding:this,buffer:e});this.writeOperation=null});return this.writeOperation}async update(e){await super.update(e);return h(this.fd,e)}async set(e){await super.set(e);return v(this.fd,e)}async get(){await super.get();return m(this.fd)}async getBaudRate(){await super.get();return g(this.fd)}async drain(){await super.drain();await this.writeOperation;return y(this.fd)}async flush(){await super.flush();return b(this.fd)}}e.exports=_},function(e,t,n){const r=n(52);const i=n(21);function o(e){return/(tty(S|WCH|ACM|USB|AMA|MFD|O|XRUSB)|rfcomm)/.test(e)&&e}function s(e){return{DEVNAME:"path",ID_VENDOR_ENC:"manufacturer",ID_SERIAL_SHORT:"serialNumber",ID_VENDOR_ID:"vendorId",ID_MODEL_ID:"productId",DEVLINKS:"pnpId"}[e.toUpperCase()]}function a(e){return e.replace(/\\x([a-fA-F0-9]{2})/g,(e,t)=>String.fromCharCode(parseInt(t,16)))}function u(e,t){if(e==="pnpId"){const e=t.match(/\/by-id\/([^\s]+)/);return e&&e[1]||undefined}if(e==="manufacturer"){return a(t)}if(/^0x/.test(t)){return t.substr(2)}return t}function c(){return new Promise((e,t)=>{const n=[];const a=r.spawn("udevadm",["info","-e"]);const c=a.stdout.pipe(new i);a.on("close",e=>e&&t(new Error(`Error listing ports udevadm exited with error code: ${e}`)));a.on("error",t);c.on("error",t);let f={};let l=false;c.on("data",e=>{const t=e.slice(0,1);const r=e.slice(3);if(t==="P"){f={manufacturer:undefined,serialNumber:undefined,pnpId:undefined,locationId:undefined,vendorId:undefined,productId:undefined};l=false;return}if(l){return}if(t==="N"){if(o(r)){n.push(f)}else{l=true}return}if(t==="E"){const e=r.match(/^(.+)=(.*)/);if(!e){return}const t=s(e[1]);if(!t){return}f[t]=u(t,e[2])}});c.on("finish",()=>e(n))})}e.exports=c},function(e,t){e.exports=require("child_process")},function(e,t,n){e.exports={ByteLength:n(54),CCTalk:n(55),Delimiter:n(22),Readline:n(21),Ready:n(56),Regex:n(57)}},function(e,t,n){const{Transform:r}=n(2);class i extends r{constructor(e={}){super(e);if(typeof e.length!=="number"){throw new TypeError('"length" is not a number')}if(e.length<1){throw new TypeError('"length" is not greater than 0')}this.length=e.length;this.position=0;this.buffer=Buffer.alloc(this.length)}_transform(e,t,n){let r=0;while(r<e.length){this.buffer[this.position]=e[r];r++;this.position++;if(this.position===this.length){this.push(this.buffer);this.buffer=Buffer.alloc(this.length);this.position=0}}n()}_flush(e){this.push(this.buffer.slice(0,this.position));this.buffer=Buffer.alloc(this.length);e()}}e.exports=i},function(e,t,n){const{Transform:r}=n(2);class i extends r{constructor(e=50){super();this.array=[];this.cursor=0;this.lastByteFetchTime=0;this.maxDelayBetweenBytesMs=e}_transform(e,t,n){if(this.maxDelayBetweenBytesMs>0){const e=Date.now();if(e-this.lastByteFetchTime>this.maxDelayBetweenBytesMs){this.array=[];this.cursor=0}this.lastByteFetchTime=e}this.cursor+=e.length;Array.from(e).map(e=>this.array.push(e));while(this.cursor>1&&this.cursor>=this.array[1]+5){const e=this.array[1]+5;const t=Buffer.from(this.array.slice(0,e));this.array=this.array.slice(t.length,this.array.length);this.cursor-=e;this.push(t)}n()}}e.exports=i},function(e,t,n){const{Transform:r}=n(2);class i extends r{constructor(e={}){if(e.delimiter===undefined){throw new TypeError('"delimiter" is not a bufferable object')}if(e.delimiter.length===0){throw new TypeError('"delimiter" has a 0 or undefined length')}super(e);this.delimiter=Buffer.from(e.delimiter);this.readOffset=0;this.ready=false}_transform(e,t,n){if(this.ready){this.push(e);return n()}const r=this.delimiter;let i=0;while(this.readOffset<r.length&&i<e.length){if(r[this.readOffset]===e[i]){this.readOffset++}else{this.readOffset=0}i++}if(this.readOffset===r.length){this.ready=true;this.emit("ready");const t=e.slice(i);if(t.length>0){this.push(t)}}n()}}e.exports=i},function(e,t,n){const{Transform:r}=n(2);class i extends r{constructor(e){const t={encoding:"utf8",...e};if(t.regex===undefined){throw new TypeError('"options.regex" must be a regular expression pattern or object')}if(!(t.regex instanceof RegExp)){t.regex=new RegExp(t.regex)}super(t);this.regex=t.regex;this.data=""}_transform(e,t,n){const r=this.data+e;const i=r.split(this.regex);this.data=i.pop();i.forEach(e=>{this.push(e)});n()}_flush(e){this.push(this.data);this.data="";e()}}e.exports=i},function(e,t,n){var r=n(59),i=n(60);e.exports=function e(t){if(!arguments.length){throw new SyntaxError("must supply a polling function")}if(!r(t,"function")){throw new TypeError("poll must be a function")}return function(){var e=Infinity,n=false,o=1e3,s=null,a=0,u,c;function f(){var e=t(l);if(t.length===0){l(e)}}function l(t){var r=o,u=c;a+=1;if(t||a>=e){if(c){c=null;u(!!t)}return}if(n){if(n===true){r=i(r,a)}else{r+=a*n}}s=setTimeout(f,r)}u=function e(t){if(s){clearTimeout(s);s=null;if(c){c(false)}c=null;a=0}if(arguments.length){if(!r(t,"function")){throw new TypeError("done callback must be a function")}c=t}s=setTimeout(f,o)};u.ask=function t(n){if(s){throw new SyntaxError("can not set ask limit during polling")}else if(!r(n,"number")){throw new TypeError("ask limit must be a number")}e=n;return u};u.every=function e(t){if(s){throw new SyntaxError("can not set timeout during polling")}else if(!r(t,"number")){throw new TypeError("timout must be a number")}o=t;return u};u.incr=function e(t){if(s){throw new SyntexError("can not set increment during polling")}else if(!arguments.length||r(t,"boolean")){n=!!t}else if(r(t,"number")){n=t}else{throw new TypeError("increment must be a boolean or number")}return u};return u}()}},function(e,t){e.exports=function e(t,n){if(arguments.length===2&&typeof n==="undefined"){n="undefined"}else if(Number.isNaN(n)){n="NaN"}function r(e){return typeof t==="object"&&t!==null}function i(e){return e.name.toLowerCase()}switch(n){case"boolean":case"function":case"string":return typeof t===n;case"number":return typeof t===n&&!isNaN(t);case Number:if(isNaN(t)){return false}case String:case Boolean:return typeof t===i(n);case Object:case"object":return r(t);case"array":return Array.isArray(t);case"regex":case"regexp":return t instanceof RegExp;case"date":return t instanceof Date;case"null":case null:return t===null;case"undefined":return typeof t==="undefined";case"NaN":return Number.isNaN(t);case"arguments":if(r(t)){return typeof t.callee==="function"||/arguments/i.test(t.toString())}return false;default:return typeof n==="function"?t instanceof n:t}}},function(e,t){e.exports=function e(t,n){var r=0;while(r++<n){t=t*2}return t}},function(e,t,n){e.exports={stk500v1:n(62),stk500v2:n(82),avr109:n(87)}},function(e,t,n){var r=n(63);var i=n(12);var o=n(13);var s=n(14);var a=n(0);var u=function(e){e.protocol=r;s.call(this,e)};a.inherits(u,s);u.prototype._upload=function(e,t){var n=this;this.serialPort=this.connection.serialPort;var r=o._parseHex(e);if(!Buffer.isBuffer(r)){return t(r)}n.serialPort.open((function(e){if(e){return t(e)}n.debug("connected");n._reset((function(e){if(e){return t(e)}n.debug("flashing, please wait...");n.chip.bootload(n.serialPort,r,n.board,(function(e){var r=e?i.red:i.green;n.debug(r("flash complete."));n.serialPort.close();return t(e)}))}))}))};u.prototype._reset=function(e){var t=this;t.connection._setDTR(false,250,(function(n){if(n){return e(n)}t.connection._setDTR(true,50,(function(n){t.debug("reset complete.");return e(n)}))}))};e.exports=u},function(e,t,n){var r=n(64);var i=n(11);var o=n(65);var s=function(e){this.opts=e||{};this.quiet=this.opts.quiet||false;if(this.quiet){this.log=function(){}}else{if(window){this.log=console.log.bind(window)}else{this.log=console.log}}};s.prototype.sync=function(e,t,n,r){this.log("sync");var s=this;var a=1;var u={cmd:[i.Cmnd_STK_GET_SYNC],responseData:i.OK_RESPONSE,timeout:n};function c(){a=a+1;o(e,u,(function(e,n){if(e&&a<=t){if(e){s.log(e)}s.log("failed attempt again",a);return c()}s.log("sync complete",e,n,a);r(e,n)}))}c()};s.prototype.verifySignature=function(e,t,n,r){this.log("verify signature");var s=this;match=Buffer.concat([Buffer.from([i.Resp_STK_INSYNC]),t,Buffer.from([i.Resp_STK_OK])]);var a={cmd:[i.Cmnd_STK_READ_SIGN],responseLength:match.length,timeout:n};o(e,a,(function(e,t){if(t){s.log("confirm signature",e,t,t.toString("hex"))}else{s.log("confirm signature",e,"no data")}r(e,t)}))};s.prototype.getSignature=function(e,t,n){this.log("get signature");var r={cmd:[i.Cmnd_STK_READ_SIGN],responseLength:5,timeout:t};o(e,r,(function(e,t){this.log("getSignature",e,t);n(e,t)}))};s.prototype.setOptions=function(e,t,n,r){this.log("set device");var s=this;var a={cmd:[i.Cmnd_STK_SET_DEVICE,t.devicecode||0,t.revision||0,t.progtype||0,t.parmode||0,t.polling||0,t.selftimed||0,t.lockbytes||0,t.fusebytes||0,t.flashpollval1||0,t.flashpollval2||0,t.eeprompollval1||0,t.eeprompollval2||0,t.pagesizehigh||0,t.pagesizelow||0,t.eepromsizehigh||0,t.eepromsizelow||0,t.flashsize4||0,t.flashsize3||0,t.flashsize2||0,t.flashsize1||0],responseData:i.OK_RESPONSE,timeout:n};o(e,a,(function(e,t){s.log("setOptions",e,t);if(e){return r(e)}r()}))};s.prototype.enterProgrammingMode=function(e,t,n){this.log("send enter programming mode");var r=this;var s={cmd:[i.Cmnd_STK_ENTER_PROGMODE],responseData:i.OK_RESPONSE,timeout:t};o(e,s,(function(e,t){r.log("sent enter programming mode",e,t);n(e,t)}))};s.prototype.loadAddress=function(e,t,n,r){this.log("load address");var s=this;var a=t&255;var u=t>>8&255;var c={cmd:[i.Cmnd_STK_LOAD_ADDRESS,a,u],responseData:i.OK_RESPONSE,timeout:n};o(e,c,(function(e,t){s.log("loaded address",e,t);r(e,t)}))};s.prototype.loadPage=function(e,t,n,r){this.log("load page");var s=this;var a=t.length&255;var u=t.length>>8;var c=Buffer.concat([Buffer.from([i.Cmnd_STK_PROG_PAGE,u,a,70]),t,Buffer.from([i.Sync_CRC_EOP])]);var f={cmd:c,responseData:i.OK_RESPONSE,timeout:n};o(e,f,(function(e,t){s.log("loaded page",e,t);r(e,t)}))};s.prototype.upload=function(e,t,n,i,o){this.log("program");var s=0;var a;var u;var c=this;r.whilst((function(){return s<t.length}),(function(o){c.log("program page");r.series([function(e){u=s>>1;e()},function(t){c.loadAddress(e,u,i,t)},function(e){a=t.slice(s,t.length>n?s+n:t.length-1);e()},function(t){c.loadPage(e,a,i,t)},function(e){c.log("programmed page");s=s+a.length;setTimeout(e,4)}],(function(e){c.log("page done");o(e)}))}),(function(e){c.log("upload done");o(e)}))};s.prototype.exitProgrammingMode=function(e,t,n){this.log("send leave programming mode");var r=this;var s={cmd:[i.Cmnd_STK_LEAVE_PROGMODE],responseData:i.OK_RESPONSE,timeout:t};o(e,s,(function(e,t){r.log("sent leave programming mode",e,t);n(e,t)}))};s.prototype.verify=function(e,t,n,i,o){this.log("verify");var s=0;var a;var u;var c=this;r.whilst((function(){return s<t.length}),(function(o){c.log("verify page");r.series([function(e){u=s>>1;e()},function(t){c.loadAddress(e,u,i,t)},function(e){a=t.slice(s,t.length>n?s+n:t.length-1);e()},function(t){c.verifyPage(e,a,n,i,t)},function(e){c.log("verified page");s=s+a.length;setTimeout(e,4)}],(function(e){c.log("verify done");o(e)}))}),(function(e){c.log("verify done");o(e)}))};s.prototype.verifyPage=function(e,t,n,r,s){this.log("verify page");var a=this;match=Buffer.concat([Buffer.from([i.Resp_STK_INSYNC]),t,Buffer.from([i.Resp_STK_OK])]);var u=t.length>=n?n:t.length;var c={cmd:[i.Cmnd_STK_READ_PAGE,u>>8&255,u&255,70],responseLength:match.length,timeout:r};o(e,c,(function(e,t){a.log("confirm page",e,t,t.toString("hex"));s(e,t)}))};s.prototype.bootload=function(e,t,n,i){var o={pagesizehigh:n.pagesizehigh<<8&255,pagesizelow:n.pagesizelow&255};r.series([this.sync.bind(this,e,3,n.timeout),this.sync.bind(this,e,3,n.timeout),this.sync.bind(this,e,3,n.timeout),this.verifySignature.bind(this,e,n.signature,n.timeout),this.setOptions.bind(this,e,o,n.timeout),this.enterProgrammingMode.bind(this,e,n.timeout),this.upload.bind(this,e,t,n.pageSize,n.timeout),this.verify.bind(this,e,t,n.pageSize,n.timeout),this.exitProgrammingMode.bind(this,e,n.timeout)],(function(e){return i(e)}))};e.exports=s},function(e,t,n){var r,i;(function(){var n={};var o,s;o=this;if(o!=null){s=o.async}n.noConflict=function(){o.async=s;return n};function a(e){var t=false;return function(){if(t)throw new Error("Callback was already called.");t=true;e.apply(o,arguments)}}var u=Object.prototype.toString;var c=Array.isArray||function(e){return u.call(e)==="[object Array]"};var f=function(e,t){for(var n=0;n<e.length;n+=1){t(e[n],n,e)}};var l=function(e,t){if(e.map){return e.map(t)}var n=[];f(e,(function(e,r,i){n.push(t(e,r,i))}));return n};var p=function(e,t,n){if(e.reduce){return e.reduce(t,n)}f(e,(function(e,r,i){n=t(n,e,r,i)}));return n};var d=function(e){if(Object.keys){return Object.keys(e)}var t=[];for(var n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t};if(typeof process==="undefined"||!process.nextTick){if(typeof setImmediate==="function"){n.nextTick=function(e){setImmediate(e)};n.setImmediate=n.nextTick}else{n.nextTick=function(e){setTimeout(e,0)};n.setImmediate=n.nextTick}}else{n.nextTick=process.nextTick;if(typeof setImmediate!=="undefined"){n.setImmediate=function(e){setImmediate(e)}}else{n.setImmediate=n.nextTick}}n.each=function(e,t,n){n=n||function(){};if(!e.length){return n()}var r=0;f(e,(function(e){t(e,a(i))}));function i(t){if(t){n(t);n=function(){}}else{r+=1;if(r>=e.length){n()}}}};n.forEach=n.each;n.eachSeries=function(e,t,n){n=n||function(){};if(!e.length){return n()}var r=0;var i=function(){t(e[r],(function(t){if(t){n(t);n=function(){}}else{r+=1;if(r>=e.length){n()}else{i()}}}))};i()};n.forEachSeries=n.eachSeries;n.eachLimit=function(e,t,n,r){var i=h(t);i.apply(null,[e,n,r])};n.forEachLimit=n.eachLimit;var h=function(e){return function(t,n,r){r=r||function(){};if(!t.length||e<=0){return r()}var i=0;var o=0;var s=0;(function a(){if(i>=t.length){return r()}while(s<e&&o<t.length){o+=1;s+=1;n(t[o-1],(function(e){if(e){r(e);r=function(){}}else{i+=1;s-=1;if(i>=t.length){r()}else{a()}}}))}})()}};var v=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n.each].concat(t))}};var m=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[h(e)].concat(n))}};var g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n.eachSeries].concat(t))}};var y=function(e,t,n,r){t=l(t,(function(e,t){return{index:t,value:e}}));if(!r){e(t,(function(e,t){n(e.value,(function(e){t(e)}))}))}else{var i=[];e(t,(function(e,t){n(e.value,(function(n,r){i[e.index]=r;t(n)}))}),(function(e){r(e,i)}))}};n.map=v(y);n.mapSeries=g(y);n.mapLimit=function(e,t,n,r){return b(t)(e,n,r)};var b=function(e){return m(e,y)};n.reduce=function(e,t,r,i){n.eachSeries(e,(function(e,n){r(t,e,(function(e,r){t=r;n(e)}))}),(function(e){i(e,t)}))};n.inject=n.reduce;n.foldl=n.reduce;n.reduceRight=function(e,t,r,i){var o=l(e,(function(e){return e})).reverse();n.reduce(o,t,r,i)};n.foldr=n.reduceRight;var _=function(e,t,n,r){var i=[];t=l(t,(function(e,t){return{index:t,value:e}}));e(t,(function(e,t){n(e.value,(function(n){if(n){i.push(e)}t()}))}),(function(e){r(l(i.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};n.filter=v(_);n.filterSeries=g(_);n.select=n.filter;n.selectSeries=n.filterSeries;var w=function(e,t,n,r){var i=[];t=l(t,(function(e,t){return{index:t,value:e}}));e(t,(function(e,t){n(e.value,(function(n){if(!n){i.push(e)}t()}))}),(function(e){r(l(i.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};n.reject=v(w);n.rejectSeries=g(w);var E=function(e,t,n,r){e(t,(function(e,t){n(e,(function(n){if(n){r(e);r=function(){}}else{t()}}))}),(function(e){r()}))};n.detect=v(E);n.detectSeries=g(E);n.some=function(e,t,r){n.each(e,(function(e,n){t(e,(function(e){if(e){r(true);r=function(){}}n()}))}),(function(e){r(false)}))};n.any=n.some;n.every=function(e,t,r){n.each(e,(function(e,n){t(e,(function(e){if(!e){r(false);r=function(){}}n()}))}),(function(e){r(true)}))};n.all=n.every;n.sortBy=function(e,t,r){n.map(e,(function(e,n){t(e,(function(t,r){if(t){n(t)}else{n(null,{value:e,criteria:r})}}))}),(function(e,t){if(e){return r(e)}else{var n=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};r(null,l(t.sort(n),(function(e){return e.value})))}}))};n.auto=function(e,t){t=t||function(){};var r=d(e);var i=r.length;if(!i){return t()}var o={};var s=[];var a=function(e){s.unshift(e)};var u=function(e){for(var t=0;t<s.length;t+=1){if(s[t]===e){s.splice(t,1);return}}};var l=function(){i--;f(s.slice(0),(function(e){e()}))};a((function(){if(!i){var e=t;t=function(){};e(null,o)}}));f(r,(function(r){var i=c(e[r])?e[r]:[e[r]];var s=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}if(e){var s={};f(d(o),(function(e){s[e]=o[e]}));s[r]=i;t(e,s);t=function(){}}else{o[r]=i;n.setImmediate(l)}};var h=i.slice(0,Math.abs(i.length-1))||[];var v=function(){return p(h,(function(e,t){return e&&o.hasOwnProperty(t)}),true)&&!o.hasOwnProperty(r)};if(v()){i[i.length-1](s,o)}else{var m=function(){if(v()){u(m);i[i.length-1](s,o)}};a(m)}}))};n.retry=function(e,t,r){var i=5;var o=[];if(typeof e==="function"){r=t;t=e;e=i}e=parseInt(e,10)||i;var s=function(i,s){var a=function(e,t){return function(n){e((function(e,r){n(!e||t,{err:e,result:r})}),s)}};while(e){o.push(a(t,!(e-=1)))}n.series(o,(function(e,t){t=t[t.length-1];(i||r)(t.err,t.result)}))};return r?s():s};n.waterfall=function(e,t){t=t||function(){};if(!c(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}if(!e.length){return t()}var i=function(e){return function(r){if(r){t.apply(null,arguments);t=function(){}}else{var o=Array.prototype.slice.call(arguments,1);var s=e.next();if(s){o.push(i(s))}else{o.push(t)}n.setImmediate((function(){e.apply(null,o)}))}}};i(n.iterator(e))()};var S=function(e,t,n){n=n||function(){};if(c(t)){e.map(t,(function(e,t){if(e){e((function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)}))}}),n)}else{var r={};e.each(d(t),(function(e,n){t[e]((function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}r[e]=i;n(t)}))}),(function(e){n(e,r)}))}};n.parallel=function(e,t){S({map:n.map,each:n.each},e,t)};n.parallelLimit=function(e,t,n){S({map:b(t),each:h(t)},e,n)};n.series=function(e,t){t=t||function(){};if(c(e)){n.mapSeries(e,(function(e,t){if(e){e((function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)}))}}),t)}else{var r={};n.eachSeries(d(e),(function(t,n){e[t]((function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}r[t]=i;n(e)}))}),(function(e){t(e,r)}))}};n.iterator=function(e){var t=function(n){var r=function(){if(e.length){e[n].apply(null,arguments)}return r.next()};r.next=function(){return n<e.length-1?t(n+1):null};return r};return t(0)};n.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var x=function(e,t,n,r){var i=[];e(t,(function(e,t){n(e,(function(e,n){i=i.concat(n||[]);t(e)}))}),(function(e){r(e,i)}))};n.concat=v(x);n.concatSeries=g(x);n.whilst=function(e,t,r){if(e()){t((function(i){if(i){return r(i)}n.whilst(e,t,r)}))}else{r()}};n.doWhilst=function(e,t,r){e((function(i){if(i){return r(i)}var o=Array.prototype.slice.call(arguments,1);if(t.apply(null,o)){n.doWhilst(e,t,r)}else{r()}}))};n.until=function(e,t,r){if(!e()){t((function(i){if(i){return r(i)}n.until(e,t,r)}))}else{r()}};n.doUntil=function(e,t,r){e((function(i){if(i){return r(i)}var o=Array.prototype.slice.call(arguments,1);if(!t.apply(null,o)){n.doUntil(e,t,r)}else{r()}}))};n.queue=function(e,t){if(t===undefined){t=1}function r(e,t,r,i){if(!e.started){e.started=true}if(!c(t)){t=[t]}if(t.length==0){return n.setImmediate((function(){if(e.drain){e.drain()}}))}f(t,(function(t){var o={data:t,callback:typeof i==="function"?i:null};if(r){e.tasks.unshift(o)}else{e.tasks.push(o)}if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}n.setImmediate(e.process)}))}var i=0;var o={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(e,t){r(o,e,false,t)},kill:function(){o.drain=null;o.tasks=[]},unshift:function(e,t){r(o,e,true,t)},process:function(){if(!o.paused&&i<o.concurrency&&o.tasks.length){var t=o.tasks.shift();if(o.empty&&o.tasks.length===0){o.empty()}i+=1;var n=function(){i-=1;if(t.callback){t.callback.apply(t,arguments)}if(o.drain&&o.tasks.length+i===0){o.drain()}o.process()};var r=a(n);e(t.data,r)}},length:function(){return o.tasks.length},running:function(){return i},idle:function(){return o.tasks.length+i===0},pause:function(){if(o.paused===true){return}o.paused=true},resume:function(){if(o.paused===false){return}o.paused=false;for(var e=1;e<=o.concurrency;e++){n.setImmediate(o.process)}}};return o};n.priorityQueue=function(e,t){function r(e,t){return e.priority-t.priority}function i(e,t,n){var r=-1,i=e.length-1;while(r<i){var o=r+(i-r+1>>>1);if(n(t,e[o])>=0){r=o}else{i=o-1}}return r}function o(e,t,o,s){if(!e.started){e.started=true}if(!c(t)){t=[t]}if(t.length==0){return n.setImmediate((function(){if(e.drain){e.drain()}}))}f(t,(function(t){var a={data:t,priority:o,callback:typeof s==="function"?s:null};e.tasks.splice(i(e.tasks,a,r)+1,0,a);if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}n.setImmediate(e.process)}))}var s=n.queue(e,t);s.push=function(e,t,n){o(s,e,t,n)};delete s.unshift;return s};n.cargo=function(e,t){var r=false,i=[];var o={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:true,push:function(e,r){if(!c(e)){e=[e]}f(e,(function(e){i.push({data:e,callback:typeof r==="function"?r:null});o.drained=false;if(o.saturated&&i.length===t){o.saturated()}}));n.setImmediate(o.process)},process:function n(){if(r)return;if(i.length===0){if(o.drain&&!o.drained)o.drain();o.drained=true;return}var s=typeof t==="number"?i.splice(0,t):i.splice(0,i.length);var a=l(s,(function(e){return e.data}));if(o.empty)o.empty();r=true;e(a,(function(){r=false;var e=arguments;f(s,(function(t){if(t.callback){t.callback.apply(null,e)}}));n()}))},length:function(){return i.length},running:function(){return r}};return o};var O=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(t){if(console.error){console.error(t)}}else if(console[e]){f(n,(function(t){console[e](t)}))}}}]))}};n.log=O("log");n.dir=O("dir");n.memoize=function(e,t){var r={};var i={};t=t||function(e){return e};var o=function(){var o=Array.prototype.slice.call(arguments);var s=o.pop();var a=t.apply(null,o);if(a in r){n.nextTick((function(){s.apply(null,r[a])}))}else if(a in i){i[a].push(s)}else{i[a]=[s];e.apply(null,o.concat([function(){r[a]=arguments;var e=i[a];delete i[a];for(var t=0,n=e.length;t<n;t++){e[t].apply(null,arguments)}}]))}};o.memo=r;o.unmemoized=e;return o};n.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};n.times=function(e,t,r){var i=[];for(var o=0;o<e;o++){i.push(o)}return n.map(i,t,r)};n.timesSeries=function(e,t,r){var i=[];for(var o=0;o<e;o++){i.push(o)}return n.mapSeries(i,t,r)};n.seq=function(){var e=arguments;return function(){var t=this;var r=Array.prototype.slice.call(arguments);var i=r.pop();n.reduce(e,r,(function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);r(e,t)}]))}),(function(e,n){i.apply(t,[e].concat(n))}))}};n.compose=function(){return n.seq.apply(null,Array.prototype.reverse.call(arguments))};var C=function(e,t){var n=function(){var n=this;var r=Array.prototype.slice.call(arguments);var i=r.pop();return e(t,(function(e,t){e.apply(n,r.concat([t]))}),i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}else{return n}};n.applyEach=v(C);n.applyEachSeries=g(C);n.forever=function(e,t){function n(r){if(r){if(t){return t(r)}throw r}e(n)}n()};if(true&&e.exports){e.exports=n}else if(true){!(r=[],i=function(){return n}.apply(t,r),i!==undefined&&(e.exports=i))}else{}})()},function(e,t,n){var r=n(66);var i=n(11);e.exports=function(e,t,n){var o=t.timeout||0;var s=[i.Resp_STK_INSYNC,i.Resp_STK_NOSYNC];var a=null;var u=0;var c;if(t.responseData&&t.responseData.length>0){a=t.responseData}if(a){u=a.length}if(t.responseLength){u=t.responseLength}var f=t.cmd;if(f instanceof Array){f=Buffer.from(f.concat(i.Sync_CRC_EOP))}e.write(f,(function(t){if(t){c=new Error("Sending "+f.toString("hex")+": "+t.message);return n(c)}r(e,o,u,(function(e,t){if(e){c=new Error("Sending "+f.toString("hex")+": "+e.message);return n(c)}if(a&&!t.equals(a)){c=new Error(f+" response mismatch: "+t.toString("hex")+", "+a.toString("hex"));return n(c)}n(null,t)}))}))}},function(e,t,n){var r=n(11);var i=[r.Resp_STK_INSYNC];e.exports=function(e,t,n,r){var o=Buffer.alloc(0);var s=false;var a=null;var u=function(e){var t=0;while(!s&&t<e.length){var r=e[t];if(i.indexOf(r)!==-1){e=e.slice(t,e.length-t);s=true}t++}if(s){o=Buffer.concat([o,e])}if(o.length>n){return c(new Error("buffer overflow "+o.length+" > "+n))}if(o.length==n){c()}};var c=function(t){if(a){clearTimeout(a)}e.removeListener("data",u);r(t,o)};if(t&&t>0){a=setTimeout((function(){a=null;c(new Error("receiveData timeout after "+t+"ms"))}),t)}e.on("data",u)}},function(e,t){var n={};e["exports"]=n;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(e){var t=r[e];var i=n[e]=[];i.open="["+t[0]+"m";i.close="["+t[1]+"m"}))},function(e,t,n){"use strict";var r=n(4);var i=n(69);var o=process.env;var s=void 0;if(i("no-color")||i("no-colors")||i("color=false")){s=false}else if(i("color")||i("colors")||i("color=true")||i("color=always")){s=true}if("FORCE_COLOR"in o){s=o.FORCE_COLOR.length===0||parseInt(o.FORCE_COLOR,10)!==0}function a(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function u(e){if(s===false){return 0}if(i("color=16m")||i("color=full")||i("color=truecolor")){return 3}if(i("color=256")){return 2}if(e&&!e.isTTY&&s!==true){return 0}var t=s?1:0;if(process.platform==="win32"){var n=r.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586){return Number(n[2])>=14931?3:2}return 1}if("CI"in o){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in o}))||o.CI_NAME==="codeship"){return 1}return t}if("TEAMCITY_VERSION"in o){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0}if("TERM_PROGRAM"in o){var a=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(o.TERM)){return 2}if(/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)){return 1}if("COLORTERM"in o){return 1}if(o.TERM==="dumb"){return t}return t}function c(e){var t=u(e);return a(t)}e.exports={supportsColor:c,stdout:c(process.stdout),stderr:c(process.stderr)}},function(e,t,n){"use strict";e.exports=function(e,t){t=t||process.argv;var n=t.indexOf("--");var r=/^-{1,2}/.test(e)?"":"--";var i=t.indexOf(r+e);return i!==-1&&(n===-1?true:i<n)}},function(e,t){e["exports"]=function e(t,n){var r="";t=t||"Run the trap, drop the bass";t=t.split("");var i={a:["@","Ä„","Èº","É…","Î”","Î›","Ð”"],b:["ÃŸ","Æ","Éƒ","É®","Î²","à¸¿"],c:["Â©","È»","Ï¾"],d:["Ã","ÆŠ","Ô€","Ô","Ô‚","Ôƒ"],e:["Ã‹","Ä•","ÆŽ","É˜","Î£","Î¾","Ò¼","à©¬"],f:["Óº"],g:["É¢"],h:["Ä¦","Æ•","Ò¢","Òº","Ó‡","ÔŠ"],i:["à¼"],j:["Ä´"],k:["Ä¸","Ò ","Óƒ","Ôž"],l:["Ä¹"],m:["Ê","Ó","ÓŽ","Ô ","Ô¡","àµ©"],n:["Ã‘","Å‹","Æ","Í¶","Î ","ÒŠ"],o:["Ã˜","Ãµ","Ã¸","Ç¾","Ê˜","Ñº","×","Û","à¹"],p:["Ç·","ÒŽ"],q:["à§"],r:["Â®","Æ¦","È","ÉŒ","Ê€","Ð¯"],s:["Â§","Ïž","ÏŸ","Ï¨"],t:["Å","Å¦","Í³"],u:["Æ±","Õ"],v:["×˜"],w:["Ð¨","Ñ ","Ñ¼","àµ°"],x:["Ò²","Ó¾","Ó¼","Ó½"],y:["Â¥","Ò°","Ó‹"],z:["Æµ","É€"]};t.forEach((function(e){e=e.toLowerCase();var t=i[e]||[" "];var n=Math.floor(Math.random()*t.length);if(typeof i[e]!=="undefined"){r+=i[e][n]}else{r+=e}}));return r}},function(e,t){e["exports"]=function e(t,n){t=t||"   he is here   ";var r={up:["Ì","ÌŽ","Ì„","Ì…","Ì¿","Ì‘","Ì†","Ì","Í’","Í—","Í‘","Ì‡","Ìˆ","ÌŠ","Í‚","Ì“","Ìˆ","ÍŠ","Í‹","ÍŒ","Ìƒ","Ì‚","ÌŒ","Í","Ì€","Ì","Ì‹","Ì","Ì’","Ì“","Ì”","Ì½","Ì‰","Í£","Í¤","Í¥","Í¦","Í§","Í¨","Í©","Íª","Í«","Í¬","Í­","Í®","Í¯","Ì¾","Í›","Í†","Ìš"],down:["Ì–","Ì—","Ì˜","Ì™","Ìœ","Ì","Ìž","ÌŸ","Ì ","Ì¤","Ì¥","Ì¦","Ì©","Ìª","Ì«","Ì¬","Ì­","Ì®","Ì¯","Ì°","Ì±","Ì²","Ì³","Ì¹","Ìº","Ì»","Ì¼","Í…","Í‡","Íˆ","Í‰","Í","ÍŽ","Í“","Í”","Í•","Í–","Í™","Íš","Ì£"],mid:["Ì•","Ì›","Ì€","Ì","Í˜","Ì¡","Ì¢","Ì§","Ì¨","Ì´","Ìµ","Ì¶","Íœ","Í","Íž","ÍŸ","Í ","Í¢","Ì¸","Ì·","Í¡"," Ò‰"]};var i=[].concat(r.up,r.down,r.mid);function o(e){var t=Math.floor(Math.random()*e);return t}function s(e){var t=false;i.filter((function(n){t=n===e}));return t}function a(e,t){var n="";var i;var a;t=t||{};t["up"]=typeof t["up"]!=="undefined"?t["up"]:true;t["mid"]=typeof t["mid"]!=="undefined"?t["mid"]:true;t["down"]=typeof t["down"]!=="undefined"?t["down"]:true;t["size"]=typeof t["size"]!=="undefined"?t["size"]:"maxi";e=e.split("");for(a in e){if(s(a)){continue}n=n+e[a];i={up:0,down:0,mid:0};switch(t.size){case"mini":i.up=o(8);i.mid=o(2);i.down=o(8);break;case"maxi":i.up=o(16)+3;i.mid=o(4)+1;i.down=o(64)+3;break;default:i.up=o(8)+1;i.mid=o(6)/2;i.down=o(8)+1;break}var u=["up","mid","down"];for(var c in u){var f=u[c];for(var l=0;l<=i[f];l++){if(t[f]){n=n+r[f][o(r[f].length)]}}}}return n}return a(t,n)}},function(e,t){e["exports"]=function(e){return function(t,n,r){if(t===" ")return t;switch(n%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},function(e,t){e["exports"]=function(e){return function(t,n,r){return n%2===0?t:e.inverse(t)}}},function(e,t){e["exports"]=function(e){var t=["red","yellow","green","blue","magenta"];return function(n,r,i){if(n===" "){return n}else{return e[t[r++%t.length]](n)}}}},function(e,t){e["exports"]=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,r,i){return n===" "?n:e[t[Math.round(Math.random()*(t.length-2))]](n)}}},function(e,t,n){var r=n(23);e["exports"]=function(){var e=function(e,t){String.prototype.__defineGetter__(e,t)};e("strip",(function(){return r.strip(this)}));e("stripColors",(function(){return r.strip(this)}));e("trap",(function(){return r.trap(this)}));e("zalgo",(function(){return r.zalgo(this)}));e("zebra",(function(){return r.zebra(this)}));e("rainbow",(function(){return r.rainbow(this)}));e("random",(function(){return r.random(this)}));e("america",(function(){return r.america(this)}));var t=Object.keys(r.styles);t.forEach((function(t){e(t,(function(){return r.stylize(this,t)}))}));function n(t){var n=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexOf","length","localeCompare","match","repeat","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(t).forEach((function(i){if(n.indexOf(i)!==-1){console.log("warn: ".red+("String.prototype"+i).magenta+" is probably something you don't want to override.  "+"Ignoring style name")}else{if(typeof t[i]==="string"){r[i]=r[t[i]];e(i,(function(){return r[i](this)}))}else{var o=function(e){var n=e||this;for(var o=0;o<t[i].length;o++){n=r[t[i][o]](n)}return n};e(i,o);r[i]=function(e){return o(e)}}}}))}r.setTheme=function(e){if(typeof e==="string"){console.log("colors.setTheme now only accepts an object, not a string. "+"If you are trying to set a theme from a file, it is now your (the "+"caller's) responsibility to require the file.  The old syntax "+"looked like colors.setTheme(__dirname + "+"'/../themes/generic-logging.js'); The new syntax looks like "+"colors.setTheme(require(__dirname + "+"'/../themes/generic-logging.js'));");return}else{n(e)}}}},function(e,t,n){var r=n(78);var i=process.cwd;var o=null;var s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!o)o=i.call(process);return o};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){o=null;a.call(process,e)};e.exports=u;function u(e){if(r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){t(e)}if(!e.lutimes){n(e)}e.chown=a(e.chown);e.fchown=a(e.fchown);e.lchown=a(e.lchown);e.chmod=i(e.chmod);e.fchmod=i(e.fchmod);e.lchmod=i(e.lchmod);e.chownSync=u(e.chownSync);e.fchownSync=u(e.fchownSync);e.lchownSync=u(e.lchownSync);e.chmodSync=o(e.chmodSync);e.fchmodSync=o(e.fchmodSync);e.lchmodSync=o(e.lchmodSync);e.stat=c(e.stat);e.fstat=c(e.fstat);e.lstat=c(e.lstat);e.statSync=f(e.statSync);e.fstatSync=f(e.fstatSync);e.lstatSync=f(e.lstatSync);if(!e.lchmod){e.lchmod=function(e,t,n){if(n)process.nextTick(n)};e.lchmodSync=function(){}}if(!e.lchown){e.lchown=function(e,t,n,r){if(r)process.nextTick(r)};e.lchownSync=function(){}}if(s==="win32"){e.rename=function(t){return function(n,r,i){var o=Date.now();var s=0;t(n,r,(function a(u){if(u&&(u.code==="EACCES"||u.code==="EPERM")&&Date.now()-o<6e4){setTimeout((function(){e.stat(r,(function(e,o){if(e&&e.code==="ENOENT")t(n,r,a);else i(u)}))}),s);if(s<100)s+=10;return}if(i)i(u)}))}}(e.rename)}e.read=function(t){function n(n,r,i,o,s,a){var u;if(a&&typeof a==="function"){var c=0;u=function(f,l,p){if(f&&f.code==="EAGAIN"&&c<10){c++;return t.call(e,n,r,i,o,s,u)}a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,u)}n.__proto__=t;return n}(e.read);e.readSync=function(t){return function(n,r,i,o,s){var a=0;while(true){try{return t.call(e,n,r,i,o,s)}catch(e){if(e.code==="EAGAIN"&&a<10){a++;continue}throw e}}}}(e.readSync);function t(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){if(t){if(i)i(t);return}e.fchmod(r,n,(function(t){e.close(r,(function(e){if(i)i(t||e)}))}))}))};e.lchmodSync=function(t,n){var i=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n);var o=true;var s;try{s=e.fchmodSync(i,n);o=false}finally{if(o){try{e.closeSync(i)}catch(e){}}else{e.closeSync(i)}}return s}}function n(e){if(r.hasOwnProperty("O_SYMLINK")){e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){if(t){if(o)o(t);return}e.futimes(r,n,i,(function(t){e.close(r,(function(e){if(o)o(t||e)}))}))}))};e.lutimesSync=function(t,n,i){var o=e.openSync(t,r.O_SYMLINK);var s;var a=true;try{s=e.futimesSync(o,n,i);a=false}finally{if(a){try{e.closeSync(o)}catch(e){}}else{e.closeSync(o)}}return s}}else{e.lutimes=function(e,t,n,r){if(r)process.nextTick(r)};e.lutimesSync=function(){}}}function i(t){if(!t)return t;return function(n,r,i){return t.call(e,n,r,(function(e){if(l(e))e=null;if(i)i.apply(this,arguments)}))}}function o(t){if(!t)return t;return function(n,r){try{return t.call(e,n,r)}catch(e){if(!l(e))throw e}}}function a(t){if(!t)return t;return function(n,r,i,o){return t.call(e,n,r,i,(function(e){if(l(e))e=null;if(o)o.apply(this,arguments)}))}}function u(t){if(!t)return t;return function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!l(e))throw e}}}function c(t){if(!t)return t;return function(n,r,i){if(typeof r==="function"){i=r;r=null}function o(e,t){if(t){if(t.uid<0)t.uid+=4294967296;if(t.gid<0)t.gid+=4294967296}if(i)i.apply(this,arguments)}return r?t.call(e,n,r,o):t.call(e,n,o)}}function f(t){if(!t)return t;return function(n,r){var i=r?t.call(e,n,r):t.call(e,n);if(i.uid<0)i.uid+=4294967296;if(i.gid<0)i.gid+=4294967296;return i}}function l(e){if(!e)return true;if(e.code==="ENOSYS")return true;var t=!process.getuid||process.getuid()!==0;if(t){if(e.code==="EINVAL"||e.code==="EPERM")return true}return false}}},function(e,t){e.exports=require("constants")},function(e,t,n){var r=n(2).Stream;e.exports=i;function i(e){return{ReadStream:t,WriteStream:n};function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;i=i||{};var s=Object.keys(i);for(var a=0,u=s.length;a<u;a++){var c=s[a];this[c]=i[c]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick((function(){o._read()}));return}e.open(this.path,this.flags,this.mode,(function(e,t){if(e){o.emit("error",e);o.readable=false;return}o.fd=t;o.emit("open",t);o._read()}))}function n(t,i){if(!(this instanceof n))return new n(t,i);r.call(this);this.path=t;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var o=Object.keys(i);for(var s=0,a=o.length;s<a;s++){var u=o[s];this[u]=i[u]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=e.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},function(e,t,n){"use strict";e.exports=r;function r(e){if(e===null||typeof e!=="object")return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}));return t}},function(e,t){e.exports=require("assert")},function(e,t,n){var r=n(83);var i=n(27);var o=n(12);var s=n(13);var a=n(14);var u=n(0);var c=function(e){e.protocol=function(){return r};a.call(this,e)};u.inherits(c,a);c.prototype._upload=function(e,t){var n=this;n.serialPort=n.connection.serialPort;var r=s._parseHex(e);if(!Buffer.isBuffer(r)){return t(r)}n.serialPort.open((function(e){if(e){return t(e)}n.debug("connected");var s=n.chip(n.serialPort);i.series([n._reset.bind(n),s.sync.bind(s,5),s.verifySignature.bind(s,n.board.signature),s.enterProgrammingMode.bind(s,n.board),function e(t){n.debug("flashing, please wait...");t(null)},s.upload.bind(s,r,n.board.pageSize),s.exitProgrammingMode.bind(s)],(function(e){var r=e?o.red:o.green;n.debug(r("flash complete."));n.serialPort.close();return t(e)}))}))};e.exports=c},function(e,t,n){var r=n(84);var i=n(85);var o=n(26);var s=1;var a=6;var u=16;var c=17;var f=19;var l=29;var p={timeout:200,stabDelay:100,cmdexeDelay:25,synchLoops:32,byteDelay:0,pollValue:83,pollIndex:3};function d(e){if(!(this instanceof d))return new d(e);var t=this;t.parser=i(e);t.constants=t.parser.constants;t.serialPort=e}d.prototype.sync=function(e,t){var n=this;var r=1;var i=Buffer.from([s]);a();function a(){r=r+1;n.parser.send(i,(function(n,i){var s;if(!n){var u=i.message;if(u[0]!==o.CMD_SIGN_ON){n=new Error("command response was not CMD_SIGN_ON. "+u[0]);n.code="E_CMD_ERROR"}else if(u[1]!==o.STATUS_CMD_OK){n=new Error("command status was not ok. "+u[1]);n.code="E_CMD_STATUS"}else{var c=u[2];s=u.slice(3)+"";if(s.length!=c){}}}if(n&&r<=e){return a()}t(n,s)}))}};d.prototype.reset=function(e,t,n){var i=this;r.series([function(e){i.serialPort.set({rts:true,dtr:true},(function(t){if(t)e(t);else e()}))},function(t){setTimeout(t,e)},function(e){i.serialPort.set({rts:false,dtr:false},(function(t){if(t)e(t);else e()}))},function(e){setTimeout(e,t)}],(function(e){n(e)}))};d.prototype.verifySignature=function(e,t){this.getSignature((function(n,r){if(!e.equals(r)){t(new Error("signature doesnt match. Found: "+r.toString("hex"),n))}else{t()}}))};d.prototype.getSignature=function(e){var t=this;var n=Buffer.alloc(3);r.series([function(e){var r=4;var i=4;var o=0;var s=Buffer.from([l,r,i,o,48,0,0,0]);t.parser.send(s,(function(t,r){if(r&&r.message&&r.message.length>=6){var i=r.message[5];n.writeUInt8(i,0)}e(t)}))},function(e){var r=4;var i=4;var o=0;var s=Buffer.from([l,r,i,o,48,0,1,0]);t.parser.send(s,(function(t,r){if(r&&r.message&&r.message.length>=6){var i=r.message[5];n.writeUInt8(i,1)}e(t)}))},function(e){var r=4;var i=4;var o=0;var s=Buffer.from([l,r,i,o,48,0,2,0]);t.parser.send(s,(function(t,r){if(r&&r.message&&r.message.length>=6){var i=r.message[5];n.writeUInt8(i,2)}e(t)}))}],(function(t){e(t,n)}))};d.prototype.enterProgrammingMode=function(e,t){var n=this;var r=Array.prototype.slice.call(arguments);t=r.pop();if(typeof t!=="function"){t=null}e=typeof e!=="function"&&e||{};e.timeout=e.timeout||p.timeout;e.stabDelay=e.stabDelay||p.stabDelay;e.cmdexeDelay=e.cmdexeDelay||p.cmdexeDelay;e.synchLoops=e.synchLoops||p.synchLoops;e.byteDelay=e.byteDelay||p.byteDelay;e.pollValue=e.pollValue||p.pollValue;e.pollIndex=e.pollIndex||p.pollIndex;var i=172;var o=83;var s=0;var a=0;var c=Buffer.from([u,e.timeout,e.stabDelay,e.cmdexeDelay,e.synchLoops,e.byteDelay,e.pollValue,e.pollIndex,i,o,s,a]);n.parser.send(c,(function(e,n){t(e)}))};d.prototype.loadAddress=function(e,t){var n=this;msb=e>>24&255|128;xsb=e>>16&255;ysb=e>>8&255;lsb=e&255;var r=Buffer.from([a,msb,xsb,ysb,lsb]);n.parser.send(r,(function(e,n){t(e)}))};d.prototype.loadPage=function(e,t){var n=this;var r=e.length>>8;var i=e.length&255;var o=193;var s=10;var a=64;var u=76;var c=32;var l=0;var p=0;var d=Buffer.from([f,r,i,o,s,a,u,c,l,p]);d=Buffer.concat([d,e]);n.parser.send(d,(function(e,n){t(e)}))};d.prototype.upload=function(e,t,n){var i=0;var o;var s;var a=this;r.whilst((function(){return i<e.length}),(function(n){r.series([function(e){s=i>>1;e()},function(e){a.loadAddress(s,e)},function(n){o=e.slice(i,e.length>t?i+t:e.length-1);n()},function(e){a.loadPage(o,e)},function(e){i=i+o.length;setTimeout(e,4)}],(function(e){n(e)}))}),(function(e){n(e)}))};d.prototype.exitProgrammingMode=function(e){var t=this;var n=1;var r=1;var i=Buffer.from([c,n,r]);t.parser.send(i,(function(t,n){e(t)}))};d.prototype.verify=function(e,t){t()};d.prototype.bootload=function(e,t,n){n()};e.exports=d},function(e,t,n){var r,i;(function(){var n={};var o,s;o=this;if(o!=null){s=o.async}n.noConflict=function(){o.async=s;return n};function a(e){var t=false;return function(){if(t)throw new Error("Callback was already called.");t=true;e.apply(o,arguments)}}var u=Object.prototype.toString;var c=Array.isArray||function(e){return u.call(e)==="[object Array]"};var f=function(e,t){for(var n=0;n<e.length;n+=1){t(e[n],n,e)}};var l=function(e,t){if(e.map){return e.map(t)}var n=[];f(e,(function(e,r,i){n.push(t(e,r,i))}));return n};var p=function(e,t,n){if(e.reduce){return e.reduce(t,n)}f(e,(function(e,r,i){n=t(n,e,r,i)}));return n};var d=function(e){if(Object.keys){return Object.keys(e)}var t=[];for(var n in e){if(e.hasOwnProperty(n)){t.push(n)}}return t};if(typeof process==="undefined"||!process.nextTick){if(typeof setImmediate==="function"){n.nextTick=function(e){setImmediate(e)};n.setImmediate=n.nextTick}else{n.nextTick=function(e){setTimeout(e,0)};n.setImmediate=n.nextTick}}else{n.nextTick=process.nextTick;if(typeof setImmediate!=="undefined"){n.setImmediate=function(e){setImmediate(e)}}else{n.setImmediate=n.nextTick}}n.each=function(e,t,n){n=n||function(){};if(!e.length){return n()}var r=0;f(e,(function(e){t(e,a(i))}));function i(t){if(t){n(t);n=function(){}}else{r+=1;if(r>=e.length){n()}}}};n.forEach=n.each;n.eachSeries=function(e,t,n){n=n||function(){};if(!e.length){return n()}var r=0;var i=function(){t(e[r],(function(t){if(t){n(t);n=function(){}}else{r+=1;if(r>=e.length){n()}else{i()}}}))};i()};n.forEachSeries=n.eachSeries;n.eachLimit=function(e,t,n,r){var i=h(t);i.apply(null,[e,n,r])};n.forEachLimit=n.eachLimit;var h=function(e){return function(t,n,r){r=r||function(){};if(!t.length||e<=0){return r()}var i=0;var o=0;var s=0;(function a(){if(i>=t.length){return r()}while(s<e&&o<t.length){o+=1;s+=1;n(t[o-1],(function(e){if(e){r(e);r=function(){}}else{i+=1;s-=1;if(i>=t.length){r()}else{a()}}}))}})()}};var v=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n.each].concat(t))}};var m=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[h(e)].concat(n))}};var g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[n.eachSeries].concat(t))}};var y=function(e,t,n,r){t=l(t,(function(e,t){return{index:t,value:e}}));if(!r){e(t,(function(e,t){n(e.value,(function(e){t(e)}))}))}else{var i=[];e(t,(function(e,t){n(e.value,(function(n,r){i[e.index]=r;t(n)}))}),(function(e){r(e,i)}))}};n.map=v(y);n.mapSeries=g(y);n.mapLimit=function(e,t,n,r){return b(t)(e,n,r)};var b=function(e){return m(e,y)};n.reduce=function(e,t,r,i){n.eachSeries(e,(function(e,n){r(t,e,(function(e,r){t=r;n(e)}))}),(function(e){i(e,t)}))};n.inject=n.reduce;n.foldl=n.reduce;n.reduceRight=function(e,t,r,i){var o=l(e,(function(e){return e})).reverse();n.reduce(o,t,r,i)};n.foldr=n.reduceRight;var _=function(e,t,n,r){var i=[];t=l(t,(function(e,t){return{index:t,value:e}}));e(t,(function(e,t){n(e.value,(function(n){if(n){i.push(e)}t()}))}),(function(e){r(l(i.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};n.filter=v(_);n.filterSeries=g(_);n.select=n.filter;n.selectSeries=n.filterSeries;var w=function(e,t,n,r){var i=[];t=l(t,(function(e,t){return{index:t,value:e}}));e(t,(function(e,t){n(e.value,(function(n){if(!n){i.push(e)}t()}))}),(function(e){r(l(i.sort((function(e,t){return e.index-t.index})),(function(e){return e.value})))}))};n.reject=v(w);n.rejectSeries=g(w);var E=function(e,t,n,r){e(t,(function(e,t){n(e,(function(n){if(n){r(e);r=function(){}}else{t()}}))}),(function(e){r()}))};n.detect=v(E);n.detectSeries=g(E);n.some=function(e,t,r){n.each(e,(function(e,n){t(e,(function(e){if(e){r(true);r=function(){}}n()}))}),(function(e){r(false)}))};n.any=n.some;n.every=function(e,t,r){n.each(e,(function(e,n){t(e,(function(e){if(!e){r(false);r=function(){}}n()}))}),(function(e){r(true)}))};n.all=n.every;n.sortBy=function(e,t,r){n.map(e,(function(e,n){t(e,(function(t,r){if(t){n(t)}else{n(null,{value:e,criteria:r})}}))}),(function(e,t){if(e){return r(e)}else{var n=function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0};r(null,l(t.sort(n),(function(e){return e.value})))}}))};n.auto=function(e,t){t=t||function(){};var r=d(e);var i=r.length;if(!i){return t()}var o={};var s=[];var a=function(e){s.unshift(e)};var u=function(e){for(var t=0;t<s.length;t+=1){if(s[t]===e){s.splice(t,1);return}}};var l=function(){i--;f(s.slice(0),(function(e){e()}))};a((function(){if(!i){var e=t;t=function(){};e(null,o)}}));f(r,(function(r){var i=c(e[r])?e[r]:[e[r]];var s=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}if(e){var s={};f(d(o),(function(e){s[e]=o[e]}));s[r]=i;t(e,s);t=function(){}}else{o[r]=i;n.setImmediate(l)}};var h=i.slice(0,Math.abs(i.length-1))||[];var v=function(){return p(h,(function(e,t){return e&&o.hasOwnProperty(t)}),true)&&!o.hasOwnProperty(r)};if(v()){i[i.length-1](s,o)}else{var m=function(){if(v()){u(m);i[i.length-1](s,o)}};a(m)}}))};n.retry=function(e,t,r){var i=5;var o=[];if(typeof e==="function"){r=t;t=e;e=i}e=parseInt(e,10)||i;var s=function(i,s){var a=function(e,t){return function(n){e((function(e,r){n(!e||t,{err:e,result:r})}),s)}};while(e){o.push(a(t,!(e-=1)))}n.series(o,(function(e,t){t=t[t.length-1];(i||r)(t.err,t.result)}))};return r?s():s};n.waterfall=function(e,t){t=t||function(){};if(!c(e)){var r=new Error("First argument to waterfall must be an array of functions");return t(r)}if(!e.length){return t()}var i=function(e){return function(r){if(r){t.apply(null,arguments);t=function(){}}else{var o=Array.prototype.slice.call(arguments,1);var s=e.next();if(s){o.push(i(s))}else{o.push(t)}n.setImmediate((function(){e.apply(null,o)}))}}};i(n.iterator(e))()};var S=function(e,t,n){n=n||function(){};if(c(t)){e.map(t,(function(e,t){if(e){e((function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)}))}}),n)}else{var r={};e.each(d(t),(function(e,n){t[e]((function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}r[e]=i;n(t)}))}),(function(e){n(e,r)}))}};n.parallel=function(e,t){S({map:n.map,each:n.each},e,t)};n.parallelLimit=function(e,t,n){S({map:b(t),each:h(t)},e,n)};n.series=function(e,t){t=t||function(){};if(c(e)){n.mapSeries(e,(function(e,t){if(e){e((function(e){var n=Array.prototype.slice.call(arguments,1);if(n.length<=1){n=n[0]}t.call(null,e,n)}))}}),t)}else{var r={};n.eachSeries(d(e),(function(t,n){e[t]((function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1){i=i[0]}r[t]=i;n(e)}))}),(function(e){t(e,r)}))}};n.iterator=function(e){var t=function(n){var r=function(){if(e.length){e[n].apply(null,arguments)}return r.next()};r.next=function(){return n<e.length-1?t(n+1):null};return r};return t(0)};n.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var x=function(e,t,n,r){var i=[];e(t,(function(e,t){n(e,(function(e,n){i=i.concat(n||[]);t(e)}))}),(function(e){r(e,i)}))};n.concat=v(x);n.concatSeries=g(x);n.whilst=function(e,t,r){if(e()){t((function(i){if(i){return r(i)}n.whilst(e,t,r)}))}else{r()}};n.doWhilst=function(e,t,r){e((function(i){if(i){return r(i)}var o=Array.prototype.slice.call(arguments,1);if(t.apply(null,o)){n.doWhilst(e,t,r)}else{r()}}))};n.until=function(e,t,r){if(!e()){t((function(i){if(i){return r(i)}n.until(e,t,r)}))}else{r()}};n.doUntil=function(e,t,r){e((function(i){if(i){return r(i)}var o=Array.prototype.slice.call(arguments,1);if(!t.apply(null,o)){n.doUntil(e,t,r)}else{r()}}))};n.queue=function(e,t){if(t===undefined){t=1}function r(e,t,r,i){if(!e.started){e.started=true}if(!c(t)){t=[t]}if(t.length==0){return n.setImmediate((function(){if(e.drain){e.drain()}}))}f(t,(function(t){var o={data:t,callback:typeof i==="function"?i:null};if(r){e.tasks.unshift(o)}else{e.tasks.push(o)}if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}n.setImmediate(e.process)}))}var i=0;var o={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:false,paused:false,push:function(e,t){r(o,e,false,t)},kill:function(){o.drain=null;o.tasks=[]},unshift:function(e,t){r(o,e,true,t)},process:function(){if(!o.paused&&i<o.concurrency&&o.tasks.length){var t=o.tasks.shift();if(o.empty&&o.tasks.length===0){o.empty()}i+=1;var n=function(){i-=1;if(t.callback){t.callback.apply(t,arguments)}if(o.drain&&o.tasks.length+i===0){o.drain()}o.process()};var r=a(n);e(t.data,r)}},length:function(){return o.tasks.length},running:function(){return i},idle:function(){return o.tasks.length+i===0},pause:function(){if(o.paused===true){return}o.paused=true},resume:function(){if(o.paused===false){return}o.paused=false;for(var e=1;e<=o.concurrency;e++){n.setImmediate(o.process)}}};return o};n.priorityQueue=function(e,t){function r(e,t){return e.priority-t.priority}function i(e,t,n){var r=-1,i=e.length-1;while(r<i){var o=r+(i-r+1>>>1);if(n(t,e[o])>=0){r=o}else{i=o-1}}return r}function o(e,t,o,s){if(!e.started){e.started=true}if(!c(t)){t=[t]}if(t.length==0){return n.setImmediate((function(){if(e.drain){e.drain()}}))}f(t,(function(t){var a={data:t,priority:o,callback:typeof s==="function"?s:null};e.tasks.splice(i(e.tasks,a,r)+1,0,a);if(e.saturated&&e.tasks.length===e.concurrency){e.saturated()}n.setImmediate(e.process)}))}var s=n.queue(e,t);s.push=function(e,t,n){o(s,e,t,n)};delete s.unshift;return s};n.cargo=function(e,t){var r=false,i=[];var o={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:true,push:function(e,r){if(!c(e)){e=[e]}f(e,(function(e){i.push({data:e,callback:typeof r==="function"?r:null});o.drained=false;if(o.saturated&&i.length===t){o.saturated()}}));n.setImmediate(o.process)},process:function n(){if(r)return;if(i.length===0){if(o.drain&&!o.drained)o.drain();o.drained=true;return}var s=typeof t==="number"?i.splice(0,t):i.splice(0,i.length);var a=l(s,(function(e){return e.data}));if(o.empty)o.empty();r=true;e(a,(function(){r=false;var e=arguments;f(s,(function(t){if(t.callback){t.callback.apply(null,e)}}));n()}))},length:function(){return i.length},running:function(){return r}};return o};var O=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);if(typeof console!=="undefined"){if(t){if(console.error){console.error(t)}}else if(console[e]){f(n,(function(t){console[e](t)}))}}}]))}};n.log=O("log");n.dir=O("dir");n.memoize=function(e,t){var r={};var i={};t=t||function(e){return e};var o=function(){var o=Array.prototype.slice.call(arguments);var s=o.pop();var a=t.apply(null,o);if(a in r){n.nextTick((function(){s.apply(null,r[a])}))}else if(a in i){i[a].push(s)}else{i[a]=[s];e.apply(null,o.concat([function(){r[a]=arguments;var e=i[a];delete i[a];for(var t=0,n=e.length;t<n;t++){e[t].apply(null,arguments)}}]))}};o.memo=r;o.unmemoized=e;return o};n.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}};n.times=function(e,t,r){var i=[];for(var o=0;o<e;o++){i.push(o)}return n.map(i,t,r)};n.timesSeries=function(e,t,r){var i=[];for(var o=0;o<e;o++){i.push(o)}return n.mapSeries(i,t,r)};n.seq=function(){var e=arguments;return function(){var t=this;var r=Array.prototype.slice.call(arguments);var i=r.pop();n.reduce(e,r,(function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);r(e,t)}]))}),(function(e,n){i.apply(t,[e].concat(n))}))}};n.compose=function(){return n.seq.apply(null,Array.prototype.reverse.call(arguments))};var C=function(e,t){var n=function(){var n=this;var r=Array.prototype.slice.call(arguments);var i=r.pop();return e(t,(function(e,t){e.apply(n,r.concat([t]))}),i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}else{return n}};n.applyEach=v(C);n.applyEachSeries=g(C);n.forever=function(e,t){function n(r){if(r){if(t){return t(r)}throw r}e(n)}n()};if(true&&e.exports){e.exports=n}else if(true){!(r=[],i=function(){return n}.apply(t,r),i!==undefined&&(e.exports=i))}else{}})()},function(e,t,n){var r=n(26);var i=n(8).EventEmitter;e.exports=function(e){var t=o(new i,{constants:r,port:e,boundOpen:false,closed:false,_inc:-1,_queue:[],_current:false,states:["Start","GetSequenceNumber","GetMessageSize1","GetMessageSize2","GetToken","GetData","GetChecksum","Done"],state:0,pkt:false,send:function(e,t){if(this.closed)return setImmediate((function(){var e=new Error("this parser is closed.");e.code="E_CLOSED";t(e)}));if(!Buffer.isBuffer(e))e=Buffer.from(e);var n=this._commandTimeout(e[0]);var i=Buffer.from([0,0]);i.writeUInt16BE(e.length,0);var o=Buffer.concat([Buffer.from([r.MESSAGE_START,this._seq(),i[0],i[1],r.TOKEN]),e]);var s=this.checksum(o);this._queue.push({buf:Buffer.concat([o,Buffer.from([s])]),seq:this._inc,cb:t,timeout:n});this._send()},checksum:function(e){var t=0;for(var n=0;n<e.length;++n){t^=e[n]}return t},_seq:function(){this._inc++;if(this._inc>255)this._inc=0;return this._inc},_commandTimeout:function(e){timeout=1e3;if(e===r.CMD_SIGN_ON)timeout=200;else{var t=Object.keys(r);for(var n=0;n<t.length;++n){if(r[t[n]]===e){if(t[n].indexOf("CMD_READ")>-1||t[n].indexOf("PROGRAM_FLASH")>-1||t[n].indexOf("EEPROM")>-1){timeout=5e3}break}}}return timeout},_send:function(){if(this.closed)return false;if(this._current)return;if(!this._queue.length)return;var t=typeof e.isOpen==="function"?e.isOpen():e.isOpen;if(!t){var n=this;if(!this.boundOpen)e.once("open",(function(){n._send()}));return}var r=this._queue.shift();var i=this._current={timeout:false,seq:r.seq,cb:r.cb};this._current;this.state=0;var n=this;this.port.write(r.buf);this.port.drain((function(){if(i!==n._current)return n.emit("log","current was no longer the current message after drain callback");i.timeout=setTimeout((function(){var e=new Error("stk500 timeout. "+r.timeout+"ms");e.code="E_TIMEOUT";n._resolveCurrent(e)}),r.timeout)}));this.emit("rawinput",r.buf)},_handle:function(e){var t=this._current;this.emit("raw",e);if(!t)return this.emit("log","notice","dropping data","data");for(var n=0;n<e.length;++n){this._stateMachine(e.readUInt8(n))}},_pkt:function(){return{seq:-1,len:[],raw:[],message:[],checksum:0}},_stateMachine:function(e){var t=this.pkt;switch(this.state){case 0:t=this.pkt=this._pkt();if(e!==27){return this.emit("log","parser","Invalid header byte expected 27 got: "+e)}++this.state;break;case 1:if(e!==this._current.seq){this.state=0;return this.emit("log","parser","Invalid sequence number. back to start. got: "+e)}t.seq=e;++this.state;break;case 2:t.len.push(e);++this.state;break;case 3:t.len.push(e);t.len=t.len[0]<<8|t.len[1];++this.state;break;case 4:if(e!==14){this.state=0;t.error=new Error("Invalid message token byte. got: "+e);t.error.code="E_PARSE";return this.emit("log","parser",this.pkt.error)}++this.state;if(!t.len)++this.state;break;case 5:if(t.len===0&&e===r.STATUS_CKSUM_ERROR){t.error=new Error("send checksum error");t.error.code="E_STATUS_CKSUM"}t.message.push(e);if(--t.len==0)++this.state;break;case 6:t.checksum=this.checksum(t.raw);t.checksum=t.checksum===e?true:false;if(!t.checksum){t.error=new Error("recv cecksum didn't match");t.error.code="E_RECV_CKSUM"}t.message=Buffer.from(t.message);this.emit("data",t);this.state++;t.len=t.message.length;delete t.raw;this._resolveCurrent(t.error?t.error:false,t);break}if(t.raw)t.raw.push(e)},_resolveCurrent:function(e,t){var n=this._current;this._current=false;var r=false;if(e.code=="E_PARSE"||e.code=="E_TIMEOUT"||this.closed){r=this.queue;this.queue=[]}clearTimeout(n.timeout);n.cb(e,t);if(r){var i=e;if(!this.closed){i=new Error("a call queued before this call errored leaving the protocol in an upredictable state. timidly refusing to run queued commands.");i.code="E_DEPENDENT";i.prev_code=e.code}while(r.lenth)r.shift()(e)}this._send()}});e.on("data",n).once("error",s).once("close",s);return t;function n(e){t._handle(e)}function s(r){t.closed=true;e.removeListener("data",n);if(!r){r=new Error("serial closed.");r.code="E_CLOSED"}if(t._current)t._resolveCurrent(r);this.emit("closed")}};function o(e,t){Object.keys(t).forEach((function(n){e[n]=t[n]}));return e}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,n){var r=n(88);var i=n(12);var o=n(24);var s=n(16);var a=n(27);var u=n(14);var c=n(0);var f=function(e){e.protocol=function(){return r};u.call(this,e)};c.inherits(f,u);f.prototype._upload=function(e,t){var n=this;var r;try{if(typeof e==="string"){r=o.readFileSync(e,{encoding:"utf8"})}else{r=e}}catch(e){return t(e)}n._reset((function(e){if(e){return t(e)}n.debug("reset complete.");n.connection._pollForOpen((function(e){if(e){return t(e)}n.debug("connected");n._write(r,(function(e){var r=e?i.red:i.green;n.debug(r("flash complete."));return t(e)}))}))}))};f.prototype._write=function(e,t){var n=this;var r={signature:n.board.signature.toString(),debug:false};n.chip.init(n.connection.serialPort,r,(function(r,i){if(r){return t(r)}n.debug("flashing, please wait...");a.series([i.erase.bind(i),i.program.bind(i,e.toString()),function e(t){if(n.board.disableVerify===true){t()}else{i.verify(t)}},i.fuseCheck.bind(i)],(function(e){return t(e)}))}))};f.prototype._reset=function(e){var t=this;var n;if(t.board.manualReset){return e(null)}var r=new s(t.connection.options.port,{baudRate:1200,autoOpen:false});t.connection.serialPort=r;n=t.connection;t.debug("resetting board...");a.series([r.open.bind(r),n._setDTR.bind(n,false,250)],(function(t){if(t){return e(t)}a.series([n._pollForPort.bind(n)],(function(t){return e(t)}))}))};e.exports=f},function(e,t,n){var r=n(25),i=n(2).Stream,o=n(0);var s=e.exports={};var a=function(e){return(e+"").charCodeAt(0)};s.Flasher=function(e,t){var n=this;this.options=t||{};this.sp=e;this.signature=this.options.signature||"LUFACDC";if(this.options.debug){this.sp.on("data",(function(e){process.stdout.write(" -> ");for(var t=0;t<e.length;t++){var n=e.toString().substring(t,t+1);if(n.charCodeAt(0)<32||n.charCodeAt(0)>126){n="."}process.stdout.write(n+" ["+e.readUInt8(t).toString(16)+"] ")}process.stdout.write("\n")}))}this.c=function(e,t,r){n.cmds.push({value:e,callback:function(e){t&&t(e)},expectedResponseLength:r});return this};this.flashChunkSize=0;this.bytes=[];this.cmds=[]};s.Flasher.prototype={run:function(e){var t=this;process.nextTick((function(){if(t.running){return}var n=t.cmds.shift();if(n){running=true;t.options.debug&&process.stdout.write("Send: "+n.value);var r=new Buffer(0);var i=function(o){r=Buffer.concat([r,o]);if(n.expectedResponseLength===undefined||n.expectedResponseLength<=r.length){t.sp.removeListener("data",i);t.running=false;n.callback(r);process.nextTick((function(){if(t.cmds.length>0){t.run(e)}else{e&&e()}}))}};t.sp.on("data",i);t.sp.write(n.value)}}))},prepare:function(e){var t=this;this.c("S",(function(n){if(n.toString()!==t.signature){e(new Error("Invalid device signature; expecting: "+t.signature+" received: "+n.toString()))}})).c("V").c("v").c("p").c("a").c("b",(function(n){if((n.toString()||"X")[0]!="Y"){e(new Error("Buffered memory access not supported."))}t.flashChunkSize=n.readUInt16BE(1)})).c("t").c("TD").c("P").c("F").c("F").c("F").c("N").c("N").c("N").c("Q").c("Q").c("Q").c([a("A"),3,252]).c([a("g"),0,1,a("E")]).c([a("A"),3,255]).c([a("g"),0,1,a("E")]).c([a("A"),3,255]).c([a("g"),0,1,a("E")]).c([a("A"),3,255]).c([a("g"),0,1,a("E")]);this.run((function(){e(null,t)}))},erase:function(e){this.c("e",(function(){e&&e()}));this.run()},program:function(e,t){var n=this,i,o=[];this.totalBytes=0;this.c([a("A"),0,0],(function(){i=r.parse(e);n.totalBytes=i.data.length;Array.prototype.push.apply(o,i.data);n.allBytes=o;n.options.debug&&console.log("programming",o.length,"bytes");n.chunksSent=[];for(var t=0;t<o.length;t+=n.flashChunkSize){var s=Array.prototype.slice.call(i.data.slice(t,t+n.flashChunkSize));n.chunksSent.push(s);n.c([a("B"),s.length>>8&255,s.length&255,a("F")].concat(s))}}));this.run((function(){t&&t()}))},verify:function(e){var t=this;this.c([a("A"),0,0],(function(){var n=0,r=function(i){var o=null;n++;if(!t.allBytes.length){e&&e();return}var s=i.length;var u=t.allBytes.splice(0,s);u.forEach((function(e,t){if(e!==i.readUInt8(t)){o=new Error("Firmware on the device does not match local data")}}));if(o){return e(o)}process.nextTick((function(){var e=t.flashChunkSize;t.options.debug&&console.log(t.totalBytes-n*t.flashChunkSize);if(t.totalBytes-n*t.flashChunkSize<t.flashChunkSize){e=t.totalBytes-n*t.flashChunkSize}t.c([a("g"),e>>8&255,e&255,a("F")],r,e);t.run()}))};t.options.debug&&console.log("\n\nVerifying flash..");t.c([a("g"),t.flashChunkSize>>8&255,t.flashChunkSize&255,a("F")],r,t.flashChunkSize);t.run()}));t.run()},fuseCheck:function(e){this.options.debug&&console.log("checking fuses");this.c("F").c("F").c("F").c("N").c("N").c("N").c("Q").c("Q").c("Q").c("L").c("E");this.run((function(){e()}))}};s.init=function(e,t,n){if(typeof t==="function"&&!n){n=t;t={}}var r=new s.Flasher(e,t);r.prepare(n)}},function(e,t,n){var r=function(e,t,r){var i=n(8);var o=n(0);var s=n(13);var a=function(n){var o=this;n=n||{};this.options={debug:n.debug||false,board:n.board||"uno",port:n.port||"",manualReset:n.manualReset||false,disableVerify:n.disableVerify||false};if(this.options.debug===true){this.debug=console.log.bind(console)}else if(typeof this.options.debug==="function"){this.debug=this.options.debug}else{this.debug=function(){}}if(typeof this.options.board==="object"){const e=Object.getOwnPropertyNames(this.options.board);if(e.length===1&&e[0]==="name"){this.options.board=this.options.board.name}}if(typeof this.options.board==="string"){this.options.board=e[this.options.board]}if(this.options.board&&!this.options.board.manualReset){this.options.board.manualReset=this.options.manualReset}if(this.options.board&&!this.options.board.disableVerify){this.options.board.disableVerify=this.options.disableVerify}this.connection=new t(this.options);if(this.options.board){var s=r[this.options.board.protocol]||function(){};this.protocol=new s({board:this.options.board,connection:this.connection,debug:this.debug})}i.call(this)};o.inherits(a,i);a.prototype._validateBoard=function(e){if(typeof this.options.board!=="object"){return e(new Error('"'+this.options.board+'" is not a supported board type.'))}else if(!this.protocol.chip){var t="not a supported programming protocol: "+this.options.board.protocol;return e(new Error(t))}else if(!this.options.port&&this.options.board.name==="pro-mini"){return e(new Error("using a pro-mini, please specify the port in your options."))}else{return e(null)}};a.prototype.flash=function(e,t){var n=this;n._validateBoard((function(r){if(r){return t(r)}n.connection._init((function(r){if(r){return t(r)}n.protocol._upload(e,t)}))}))};a.prototype.listPorts=a.listPorts=a.prototype.list=a.list=function(e){return t.prototype._listPorts(e)};a.listKnownBoards=function(){return Object.keys(e).filter((function(t){var n=e[t].aliases;return!n||!~n.indexOf(t)}))};a.prototype.tools=s;return a};e.exports=r},function(e){e.exports=JSON.parse('{"name":"TACT","version":"0.1.9","description":"A kit if Infrared Detector and Electronic Pen that transform any monitor into an Interactive Surface.","main":"main.js","homepage":"https://www.interact-labs.com/","private":true,"keywords":["TACT"],"author":{"name":"Ahmed El Sharnoby","email":"Lan-Hekary@Gmail.com","url":"https://www.interact-labs.com/"},"license":"SEE LICENSE IN LICENSE","scripts":{"postinstall":"electron-builder install-app-deps && npm run build","start":"webpack-dev-server --mode development --config=./webpack.react.config.js","dev":"webpack --mode development --config webpack.react.config.js && electron --noDevServer .","build":"rm -rf build && webpack --mode production --config webpack.react.config.js --display-modules","prod":"npm run build && electron ./build/main/mainApp.js","clean":"rm -rf out build","release":"npm run build && cross-env electron-builder -p onTag --c.extraMetadata.main=./build/main/mainApp.js","releaseTest":"npm run build && cross-env DEBUG=electron-builder electron-builder --dir --c.extraMetadata.main=./build/main/mainApp.js","releaseFinal":"npm run build && rm -rf build/Release && bestzip build.zip build/* ","test":"echo \\"Passed\\" && exit 0"},"build":{"appId":"com.interact-labs.tact","productName":"TACT","remoteBuild":false,"buildDependenciesFromSource":true,"artifactName":"${productName}-${version}-${os}.${ext}","files":["build/**/*","!node_modules"],"directories":{"buildResources":"assets","output":"out"},"publish":[{"provider":"github"}],"mac":{"target":["zip","dmg","pkg"],"icon":"assets/icon.icns"},"win":{"target":["zip","portable","nsis"],"icon":"assets/icon.ico"},"portable":{"artifactName":"${productName}-Portable-${version}-${os}-${arch}.${ext}"},"nsis":{"artifactName":"${productName}-Installer-${version}-${os}-${arch}.${ext}","oneClick":false,"deleteAppDataOnUninstall":true,"installerIcon":"assets/icon.ico","installerHeaderIcon":"assets/icon.ico"},"linux":{"target":["zip","deb","AppImage"],"category":"Education","executableName":"TACT"}},"devDependencies":{"@babel/core":"^7.11.1","@babel/preset-react":"^7.10.4","@svgr/webpack":"^5.4.0","babel-loader":"^8.1.0","bestzip":"^2.1.6","closure-webpack-plugin":"^2.3.0","copy-webpack-plugin":"^6.0.3","cross-env":"^7.0.2","css-loader":"^4.2.1","electron":"^8.5.0","electron-builder":"^22.8.0","electron-devtools-installer":"^3.1.0","electron-rebuild":"^1.11.0","electron-reload":"github:Lan-Hekary/electron-reload","encrypt-loader":"github:Lan-Hekary/encrypt-loader","file-loader":"^6.0.0","google-closure-compiler":"^20200719.0.0","html-webpack-plugin":"^4.3.0","mini-css-extract-plugin":"^0.9.0","optimize-css-assets-webpack-plugin":"^5.0.3","raw-loader":"^4.0.1","react":"^16.13.1","react-dom":"^16.13.1","react-router":"^5.2.0","react-router-dom":"^5.2.0","react-switch":"^5.0.1","react-switch-selector":"^1.2.0","spectron":"^11.1.0","style-loader":"^1.2.1","webpack":"^4.44.1","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.0"},"dependencies":{"avrgirl-arduino":"github:Lan-Hekary/avrgirl-arduino","node-hid":"^1.3.0","usb-detection":"^4.10.0"}}')}]);